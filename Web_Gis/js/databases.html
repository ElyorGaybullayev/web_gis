<!DOCTYPE html>
<html lang="" xml:lang="">

<!-- Mirrored from 132.72.155.230:3838/js/databases.html by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 10 Jan 2022 06:38:02 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 9 Databases | Introduction to Web Mapping</title>
  <meta name="description" content="Chapter 9 Databases | Introduction to Web Mapping" />
  <meta name="generator" content="bookdown 0.22 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 9 Databases | Introduction to Web Mapping" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="Chapter 9 Databases | Introduction to Web Mapping" />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 9 Databases | Introduction to Web Mapping" />
  
  <meta name="twitter:description" content="Chapter 9 Databases | Introduction to Web Mapping" />
  

<meta name="author" content="Michael Dorman" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  <link rel="shortcut icon" href="favicon.ico" type="image/x-icon" />
<link rel="prev" href="symbology-and-interactivity.html"/>
<link rel="next" href="non-spatial-queries-1.html"/>
<script src="libs/header-attrs/header-attrs.js"></script>
<script src="libs/jquery/jquery.min.js"></script>
<link href="libs/gitbook/css/style.css" rel="stylesheet" />
<link href="libs/gitbook/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook/css/plugin-clipboard.css" rel="stylesheet" />









<link href="libs/anchor-sections/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections/anchor-sections.js"></script>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-134641614-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-134641614-1');
</script>



<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
/* Used with Pandoc 2.11+ new --citeproc when CSL is used */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>

<link rel="stylesheet" href="css/style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<a href="index.html"><img width="90%" style="margin: 5% 5% 0% 5%" src="images/BGUsig3E.svg"></a>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Preface</a>
<ul>
<li class="chapter" data-level="0.1" data-path="index.html"><a href="index.html#what-is-web-mapping"><i class="fa fa-check"></i><b>0.1</b> What is web mapping?</a></li>
<li class="chapter" data-level="0.2" data-path="index.html"><a href="index.html#what-is-javascript"><i class="fa fa-check"></i><b>0.2</b> What is JavaScript?</a></li>
<li class="chapter" data-level="0.3" data-path="index.html"><a href="index.html#why-use-javascript-for-web-mapping"><i class="fa fa-check"></i><b>0.3</b> Why use JavaScript for web mapping?</a></li>
<li class="chapter" data-level="0.4" data-path="index.html"><a href="index.html#learning-objectives"><i class="fa fa-check"></i><b>0.4</b> Learning objectives</a></li>
<li class="chapter" data-level="0.5" data-path="index.html"><a href="index.html#software"><i class="fa fa-check"></i><b>0.5</b> Software</a></li>
<li class="chapter" data-level="0.6" data-path="index.html"><a href="index.html#background-knowledge"><i class="fa fa-check"></i><b>0.6</b> Background knowledge</a></li>
<li class="chapter" data-level="0.7" data-path="index.html"><a href="index.html#online-version"><i class="fa fa-check"></i><b>0.7</b> Online version</a></li>
<li class="chapter" data-level="0.8" data-path="index.html"><a href="index.html#acknowledgments"><i class="fa fa-check"></i><b>0.8</b> Acknowledgments</a></li>
</ul></li>
<li class="part"><span><b>I Introduction to Web Technologies</b></span></li>
<li class="chapter" data-level="1" data-path="html.html"><a href="html.html"><i class="fa fa-check"></i><b>1</b> HTML</a>
<ul>
<li class="chapter" data-level="1.1" data-path="html.html"><a href="html.html#introduction"><i class="fa fa-check"></i><b>1.1</b> Introduction</a></li>
<li class="chapter" data-level="1.2" data-path="html.html"><a href="html.html#how-do-people-access-the-web"><i class="fa fa-check"></i><b>1.2</b> How do people access the web?</a>
<ul>
<li class="chapter" data-level="1.2.1" data-path="html.html"><a href="html.html#web-browsers"><i class="fa fa-check"></i><b>1.2.1</b> Web browsers</a></li>
<li class="chapter" data-level="1.2.2" data-path="html.html"><a href="html.html#web-servers"><i class="fa fa-check"></i><b>1.2.2</b> Web servers</a></li>
</ul></li>
<li class="chapter" data-level="1.3" data-path="html.html"><a href="html.html#web-pages"><i class="fa fa-check"></i><b>1.3</b> Web pages</a></li>
<li class="chapter" data-level="1.4" data-path="html.html"><a href="html.html#text-editors"><i class="fa fa-check"></i><b>1.4</b> Text editors</a></li>
<li class="chapter" data-level="1.5" data-path="html.html"><a href="html.html#what-is-html"><i class="fa fa-check"></i><b>1.5</b> What is HTML?</a>
<ul>
<li class="chapter" data-level="1.5.1" data-path="html.html"><a href="html.html#overview-html"><i class="fa fa-check"></i><b>1.5.1</b> Overview</a></li>
<li class="chapter" data-level="1.5.2" data-path="html.html"><a href="html.html#html-comments"><i class="fa fa-check"></i><b>1.5.2</b> HTML comments</a></li>
<li class="chapter" data-level="1.5.3" data-path="html.html"><a href="html.html#block-vs-inline"><i class="fa fa-check"></i><b>1.5.3</b> Block vs. inline</a></li>
</ul></li>
<li class="chapter" data-level="1.6" data-path="html.html"><a href="html.html#common-html-elements"><i class="fa fa-check"></i><b>1.6</b> Common HTML elements</a>
<ul>
<li class="chapter" data-level="1.6.1" data-path="html.html"><a href="html.html#html-element-types"><i class="fa fa-check"></i><b>1.6.1</b> HTML element types</a></li>
<li class="chapter" data-level="1.6.2" data-path="html.html"><a href="html.html#html-structure"><i class="fa fa-check"></i><b>1.6.2</b> Structure</a></li>
<li class="chapter" data-level="1.6.3" data-path="html.html"><a href="html.html#title-and-metadata"><i class="fa fa-check"></i><b>1.6.3</b> Title and metadata</a></li>
<li class="chapter" data-level="1.6.4" data-path="html.html"><a href="html.html#styling-and-scripts"><i class="fa fa-check"></i><b>1.6.4</b> Styling and scripts</a></li>
<li class="chapter" data-level="1.6.5" data-path="html.html"><a href="html.html#headings-and-paragraphs"><i class="fa fa-check"></i><b>1.6.5</b> Headings and paragraphs</a></li>
<li class="chapter" data-level="1.6.6" data-path="html.html"><a href="html.html#font-formatting"><i class="fa fa-check"></i><b>1.6.6</b> Font formatting</a></li>
<li class="chapter" data-level="1.6.7" data-path="html.html"><a href="html.html#spacing"><i class="fa fa-check"></i><b>1.6.7</b> Spacing</a></li>
<li class="chapter" data-level="1.6.8" data-path="html.html"><a href="html.html#html-lists"><i class="fa fa-check"></i><b>1.6.8</b> Lists</a></li>
<li class="chapter" data-level="1.6.9" data-path="html.html"><a href="html.html#html-links"><i class="fa fa-check"></i><b>1.6.9</b> Links</a></li>
<li class="chapter" data-level="1.6.10" data-path="html.html"><a href="html.html#images"><i class="fa fa-check"></i><b>1.6.10</b> Images</a></li>
<li class="chapter" data-level="1.6.11" data-path="html.html"><a href="html.html#tables"><i class="fa fa-check"></i><b>1.6.11</b> Tables</a></li>
<li class="chapter" data-level="1.6.12" data-path="html.html"><a href="html.html#grouping"><i class="fa fa-check"></i><b>1.6.12</b> Grouping</a></li>
<li class="chapter" data-level="1.6.13" data-path="html.html"><a href="html.html#input-elements"><i class="fa fa-check"></i><b>1.6.13</b> Input elements</a></li>
</ul></li>
<li class="chapter" data-level="1.7" data-path="html.html"><a href="html.html#id-class-and-style-attributes"><i class="fa fa-check"></i><b>1.7</b> <code>id</code>, <code>class</code>, and <code>style</code> attributes</a>
<ul>
<li class="chapter" data-level="1.7.1" data-path="html.html"><a href="html.html#overview-id-class-and-style-attributes"><i class="fa fa-check"></i><b>1.7.1</b> Overview</a></li>
<li class="chapter" data-level="1.7.2" data-path="html.html"><a href="html.html#id"><i class="fa fa-check"></i><b>1.7.2</b> <code>id</code></a></li>
<li class="chapter" data-level="1.7.3" data-path="html.html"><a href="html.html#html-class"><i class="fa fa-check"></i><b>1.7.3</b> <code>class</code></a></li>
<li class="chapter" data-level="1.7.4" data-path="html.html"><a href="html.html#style-2"><i class="fa fa-check"></i><b>1.7.4</b> <code>style</code></a></li>
</ul></li>
<li class="chapter" data-level="1.8" data-path="html.html"><a href="html.html#code-layout"><i class="fa fa-check"></i><b>1.8</b> Code layout</a></li>
<li class="chapter" data-level="1.9" data-path="html.html"><a href="html.html#inspecting-elements"><i class="fa fa-check"></i><b>1.9</b> Inspecting elements</a></li>
<li class="chapter" data-level="1.10" data-path="html.html"><a href="html.html#exercise"><i class="fa fa-check"></i><b>1.10</b> Exercise</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="css.html"><a href="css.html"><i class="fa fa-check"></i><b>2</b> CSS</a>
<ul>
<li class="chapter" data-level="2.1" data-path="css.html"><a href="css.html#introduction-1"><i class="fa fa-check"></i><b>2.1</b> Introduction</a></li>
<li class="chapter" data-level="2.2" data-path="css.html"><a href="css.html#what-is-css"><i class="fa fa-check"></i><b>2.2</b> What is CSS?</a></li>
<li class="chapter" data-level="2.3" data-path="css.html"><a href="css.html#css-rules"><i class="fa fa-check"></i><b>2.3</b> CSS rules</a></li>
<li class="chapter" data-level="2.4" data-path="css.html"><a href="css.html#css-selectors"><i class="fa fa-check"></i><b>2.4</b> CSS selectors</a>
<ul>
<li class="chapter" data-level="2.4.1" data-path="css.html"><a href="css.html#overview-css-selectors"><i class="fa fa-check"></i><b>2.4.1</b> Overview</a></li>
<li class="chapter" data-level="2.4.2" data-path="css.html"><a href="css.html#type-selector"><i class="fa fa-check"></i><b>2.4.2</b> Type selector</a></li>
<li class="chapter" data-level="2.4.3" data-path="css.html"><a href="css.html#class-selector"><i class="fa fa-check"></i><b>2.4.3</b> Class selector</a></li>
<li class="chapter" data-level="2.4.4" data-path="css.html"><a href="css.html#id-selector"><i class="fa fa-check"></i><b>2.4.4</b> ID selector</a></li>
<li class="chapter" data-level="2.4.5" data-path="css.html"><a href="css.html#descendant-selector"><i class="fa fa-check"></i><b>2.4.5</b> Descendant selector</a></li>
</ul></li>
<li class="chapter" data-level="2.5" data-path="css.html"><a href="css.html#css-conflicts"><i class="fa fa-check"></i><b>2.5</b> CSS conflicts</a></li>
<li class="chapter" data-level="2.6" data-path="css.html"><a href="css.html#css-inheritance"><i class="fa fa-check"></i><b>2.6</b> CSS inheritance</a></li>
<li class="chapter" data-level="2.7" data-path="css.html"><a href="css.html#linking-css-to-html"><i class="fa fa-check"></i><b>2.7</b> Linking CSS to HTML</a>
<ul>
<li class="chapter" data-level="2.7.1" data-path="css.html"><a href="css.html#methods-for-linking-css"><i class="fa fa-check"></i><b>2.7.1</b> Methods for linking CSS</a></li>
<li class="chapter" data-level="2.7.2" data-path="css.html"><a href="css.html#inline-css"><i class="fa fa-check"></i><b>2.7.2</b> Inline CSS</a></li>
<li class="chapter" data-level="2.7.3" data-path="css.html"><a href="css.html#embedded-css"><i class="fa fa-check"></i><b>2.7.3</b> Embedded CSS</a></li>
<li class="chapter" data-level="2.7.4" data-path="css.html"><a href="css.html#external-css"><i class="fa fa-check"></i><b>2.7.4</b> External CSS</a></li>
</ul></li>
<li class="chapter" data-level="2.8" data-path="css.html"><a href="css.html#css-properties"><i class="fa fa-check"></i><b>2.8</b> CSS properties</a>
<ul>
<li class="chapter" data-level="2.8.1" data-path="css.html"><a href="css.html#overview-css-properties"><i class="fa fa-check"></i><b>2.8.1</b> Overview</a></li>
<li class="chapter" data-level="2.8.2" data-path="css.html"><a href="css.html#color"><i class="fa fa-check"></i><b>2.8.2</b> Color</a></li>
<li class="chapter" data-level="2.8.3" data-path="css.html"><a href="css.html#text"><i class="fa fa-check"></i><b>2.8.3</b> Text</a></li>
<li class="chapter" data-level="2.8.4" data-path="css.html"><a href="css.html#boxes"><i class="fa fa-check"></i><b>2.8.4</b> Boxes</a></li>
</ul></li>
<li class="chapter" data-level="2.9" data-path="css.html"><a href="css.html#hurricane-scale"><i class="fa fa-check"></i><b>2.9</b> Hurricane scale example</a>
<ul>
<li class="chapter" data-level="2.9.1" data-path="css.html"><a href="css.html#html-contents"><i class="fa fa-check"></i><b>2.9.1</b> HTML contents</a></li>
<li class="chapter" data-level="2.9.2" data-path="css.html"><a href="css.html#css-styling"><i class="fa fa-check"></i><b>2.9.2</b> CSS styling</a></li>
</ul></li>
<li class="chapter" data-level="2.10" data-path="css.html"><a href="css.html#example-map-description"><i class="fa fa-check"></i><b>2.10</b> Map description example</a>
<ul>
<li class="chapter" data-level="2.10.1" data-path="css.html"><a href="css.html#html-contents-1"><i class="fa fa-check"></i><b>2.10.1</b> HTML contents</a></li>
<li class="chapter" data-level="2.10.2" data-path="css.html"><a href="css.html#example-map-description-box-position"><i class="fa fa-check"></i><b>2.10.2</b> CSS styling: box position</a></li>
<li class="chapter" data-level="2.10.3" data-path="css.html"><a href="css.html#css-styling-final-touches"><i class="fa fa-check"></i><b>2.10.3</b> CSS styling: final touches</a></li>
<li class="chapter" data-level="2.10.4" data-path="css.html"><a href="css.html#adding-map-in-the-background"><i class="fa fa-check"></i><b>2.10.4</b> Adding map in the background</a></li>
</ul></li>
<li class="chapter" data-level="2.11" data-path="css.html"><a href="css.html#exercise-1"><i class="fa fa-check"></i><b>2.11</b> Exercise</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="javascript-basics.html"><a href="javascript-basics.html"><i class="fa fa-check"></i><b>3</b> JavaScript Basics</a>
<ul>
<li class="chapter" data-level="3.1" data-path="javascript-basics.html"><a href="javascript-basics.html#introduction-2"><i class="fa fa-check"></i><b>3.1</b> Introduction</a></li>
<li class="chapter" data-level="3.2" data-path="javascript-basics.html"><a href="javascript-basics.html#what-is-javascript-1"><i class="fa fa-check"></i><b>3.2</b> What is JavaScript?</a></li>
<li class="chapter" data-level="3.3" data-path="javascript-basics.html"><a href="javascript-basics.html#client-side-vs.-server-side"><i class="fa fa-check"></i><b>3.3</b> Client-side vs. server-side</a></li>
<li class="chapter" data-level="3.4" data-path="javascript-basics.html"><a href="javascript-basics.html#the-javascript-console"><i class="fa fa-check"></i><b>3.4</b> The JavaScript console</a></li>
<li class="chapter" data-level="3.5" data-path="javascript-basics.html"><a href="javascript-basics.html#assignment"><i class="fa fa-check"></i><b>3.5</b> Assignment</a></li>
<li class="chapter" data-level="3.6" data-path="javascript-basics.html"><a href="javascript-basics.html#data-types"><i class="fa fa-check"></i><b>3.6</b> Data types</a>
<ul>
<li class="chapter" data-level="3.6.1" data-path="javascript-basics.html"><a href="javascript-basics.html#overview-data-types"><i class="fa fa-check"></i><b>3.6.1</b> Overview</a></li>
<li class="chapter" data-level="3.6.2" data-path="javascript-basics.html"><a href="javascript-basics.html#primitive-data-types"><i class="fa fa-check"></i><b>3.6.2</b> Primitive data types</a></li>
<li class="chapter" data-level="3.6.3" data-path="javascript-basics.html"><a href="javascript-basics.html#objects-data-type"><i class="fa fa-check"></i><b>3.6.3</b> Objects</a></li>
<li class="chapter" data-level="3.6.4" data-path="javascript-basics.html"><a href="javascript-basics.html#checking-type-of-variables"><i class="fa fa-check"></i><b>3.6.4</b> Checking type of variables</a></li>
</ul></li>
<li class="chapter" data-level="3.7" data-path="javascript-basics.html"><a href="javascript-basics.html#functions"><i class="fa fa-check"></i><b>3.7</b> Functions</a></li>
<li class="chapter" data-level="3.8" data-path="javascript-basics.html"><a href="javascript-basics.html#methods"><i class="fa fa-check"></i><b>3.8</b> Methods</a>
<ul>
<li class="chapter" data-level="3.8.1" data-path="javascript-basics.html"><a href="javascript-basics.html#what-are-methods"><i class="fa fa-check"></i><b>3.8.1</b> What are methods?</a></li>
<li class="chapter" data-level="3.8.2" data-path="javascript-basics.html"><a href="javascript-basics.html#array-methods"><i class="fa fa-check"></i><b>3.8.2</b> Array methods</a></li>
</ul></li>
<li class="chapter" data-level="3.9" data-path="javascript-basics.html"><a href="javascript-basics.html#scope"><i class="fa fa-check"></i><b>3.9</b> Scope</a></li>
<li class="chapter" data-level="3.10" data-path="javascript-basics.html"><a href="javascript-basics.html#flow-control"><i class="fa fa-check"></i><b>3.10</b> Flow control</a>
<ul>
<li class="chapter" data-level="3.10.1" data-path="javascript-basics.html"><a href="javascript-basics.html#what-is-flow-control"><i class="fa fa-check"></i><b>3.10.1</b> What is flow control?</a></li>
<li class="chapter" data-level="3.10.2" data-path="javascript-basics.html"><a href="javascript-basics.html#conditionals"><i class="fa fa-check"></i><b>3.10.2</b> Conditionals</a></li>
<li class="chapter" data-level="3.10.3" data-path="javascript-basics.html"><a href="javascript-basics.html#loops"><i class="fa fa-check"></i><b>3.10.3</b> Loops</a></li>
</ul></li>
<li class="chapter" data-level="3.11" data-path="javascript-basics.html"><a href="javascript-basics.html#javascript-object-notation-json"><i class="fa fa-check"></i><b>3.11</b> JavaScript Object Notation (JSON)</a>
<ul>
<li class="chapter" data-level="3.11.1" data-path="javascript-basics.html"><a href="javascript-basics.html#javascript-json"><i class="fa fa-check"></i><b>3.11.1</b> JSON</a></li>
<li class="chapter" data-level="3.11.2" data-path="javascript-basics.html"><a href="javascript-basics.html#geojson"><i class="fa fa-check"></i><b>3.11.2</b> GeoJSON</a></li>
</ul></li>
<li class="chapter" data-level="3.12" data-path="javascript-basics.html"><a href="javascript-basics.html#exercise-2"><i class="fa fa-check"></i><b>3.12</b> Exercise</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="javascript-interactivity.html"><a href="javascript-interactivity.html"><i class="fa fa-check"></i><b>4</b> JavaScript Interactivity</a>
<ul>
<li class="chapter" data-level="4.1" data-path="javascript-interactivity.html"><a href="javascript-interactivity.html#introduction-3"><i class="fa fa-check"></i><b>4.1</b> Introduction</a></li>
<li class="chapter" data-level="4.2" data-path="javascript-interactivity.html"><a href="javascript-interactivity.html#the-document-object-model"><i class="fa fa-check"></i><b>4.2</b> The Document Object Model (DOM)</a></li>
<li class="chapter" data-level="4.3" data-path="javascript-interactivity.html"><a href="javascript-interactivity.html#accessing-and-modifying-elements"><i class="fa fa-check"></i><b>4.3</b> Accessing and modifying elements</a>
<ul>
<li class="chapter" data-level="4.3.1" data-path="javascript-interactivity.html"><a href="javascript-interactivity.html#overview-accessing-and_modifying"><i class="fa fa-check"></i><b>4.3.1</b> Overview</a></li>
<li class="chapter" data-level="4.3.2" data-path="javascript-interactivity.html"><a href="javascript-interactivity.html#accessing-elements"><i class="fa fa-check"></i><b>4.3.2</b> Accessing elements</a></li>
<li class="chapter" data-level="4.3.3" data-path="javascript-interactivity.html"><a href="javascript-interactivity.html#getting-element-properties"><i class="fa fa-check"></i><b>4.3.3</b> Getting element properties</a></li>
<li class="chapter" data-level="4.3.4" data-path="javascript-interactivity.html"><a href="javascript-interactivity.html#modifying-elements"><i class="fa fa-check"></i><b>4.3.4</b> Modifying elements</a></li>
</ul></li>
<li class="chapter" data-level="4.4" data-path="javascript-interactivity.html"><a href="javascript-interactivity.html#event-listeners"><i class="fa fa-check"></i><b>4.4</b> Event listeners</a>
<ul>
<li class="chapter" data-level="4.4.1" data-path="javascript-interactivity.html"><a href="javascript-interactivity.html#event-types"><i class="fa fa-check"></i><b>4.4.1</b> Event types</a></li>
<li class="chapter" data-level="4.4.2" data-path="javascript-interactivity.html"><a href="javascript-interactivity.html#binding-event-listeners"><i class="fa fa-check"></i><b>4.4.2</b> Binding event listeners</a></li>
</ul></li>
<li class="chapter" data-level="4.5" data-path="javascript-interactivity.html"><a href="javascript-interactivity.html#hello-example"><i class="fa fa-check"></i><b>4.5</b> Hello example</a></li>
<li class="chapter" data-level="4.6" data-path="javascript-interactivity.html"><a href="javascript-interactivity.html#poles-example"><i class="fa fa-check"></i><b>4.6</b> Poles example</a></li>
<li class="chapter" data-level="4.7" data-path="javascript-interactivity.html"><a href="javascript-interactivity.html#operating-on-selection"><i class="fa fa-check"></i><b>4.7</b> Operating on multiple selections</a>
<ul>
<li class="chapter" data-level="4.7.1" data-path="javascript-interactivity.html"><a href="javascript-interactivity.html#example-page"><i class="fa fa-check"></i><b>4.7.1</b> Example page</a></li>
<li class="chapter" data-level="4.7.2" data-path="javascript-interactivity.html"><a href="javascript-interactivity.html#making-multiple-selections"><i class="fa fa-check"></i><b>4.7.2</b> Making multiple selections</a></li>
</ul></li>
<li class="chapter" data-level="4.8" data-path="javascript-interactivity.html"><a href="javascript-interactivity.html#getting-and-setting-input-values"><i class="fa fa-check"></i><b>4.8</b> Getting and setting input values</a></li>
<li class="chapter" data-level="4.9" data-path="javascript-interactivity.html"><a href="javascript-interactivity.html#multiple-event-listeners"><i class="fa fa-check"></i><b>4.9</b> Multiple event listeners</a></li>
<li class="chapter" data-level="4.10" data-path="javascript-interactivity.html"><a href="javascript-interactivity.html#the-event-object"><i class="fa fa-check"></i><b>4.10</b> The event object</a>
<ul>
<li class="chapter" data-level="4.10.1" data-path="javascript-interactivity.html"><a href="javascript-interactivity.html#event-object-properties"><i class="fa fa-check"></i><b>4.10.1</b> Event object properties</a></li>
<li class="chapter" data-level="4.10.2" data-path="javascript-interactivity.html"><a href="javascript-interactivity.html#event-target"><i class="fa fa-check"></i><b>4.10.2</b> The <code>.target</code> property</a></li>
</ul></li>
<li class="chapter" data-level="4.11" data-path="javascript-interactivity.html"><a href="javascript-interactivity.html#modifying-page-based-on-data"><i class="fa fa-check"></i><b>4.11</b> Modifying page based on data</a></li>
<li class="chapter" data-level="4.12" data-path="javascript-interactivity.html"><a href="javascript-interactivity.html#working-with-user-input"><i class="fa fa-check"></i><b>4.12</b> Calculator example</a></li>
<li class="chapter" data-level="4.13" data-path="javascript-interactivity.html"><a href="javascript-interactivity.html#exercise-3"><i class="fa fa-check"></i><b>4.13</b> Exercise</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="web-servers-1.html"><a href="web-servers-1.html"><i class="fa fa-check"></i><b>5</b> Web Servers</a>
<ul>
<li class="chapter" data-level="5.1" data-path="web-servers-1.html"><a href="web-servers-1.html#introduction-4"><i class="fa fa-check"></i><b>5.1</b> Introduction</a></li>
<li class="chapter" data-level="5.2" data-path="web-servers-1.html"><a href="web-servers-1.html#web-servers-2"><i class="fa fa-check"></i><b>5.2</b> Web servers</a></li>
<li class="chapter" data-level="5.3" data-path="web-servers-1.html"><a href="web-servers-1.html#communicating-through-http"><i class="fa fa-check"></i><b>5.3</b> Communicating through HTTP</a>
<ul>
<li class="chapter" data-level="5.3.1" data-path="web-servers-1.html"><a href="web-servers-1.html#web-protocols-and-http"><i class="fa fa-check"></i><b>5.3.1</b> Web protocols and HTTP</a></li>
<li class="chapter" data-level="5.3.2" data-path="web-servers-1.html"><a href="web-servers-1.html#http-methods"><i class="fa fa-check"></i><b>5.3.2</b> HTTP methods</a></li>
</ul></li>
<li class="chapter" data-level="5.4" data-path="web-servers-1.html"><a href="web-servers-1.html#static-vs-dynamic-servers"><i class="fa fa-check"></i><b>5.4</b> Static vs. dynamic servers</a>
<ul>
<li class="chapter" data-level="5.4.1" data-path="web-servers-1.html"><a href="web-servers-1.html#overview"><i class="fa fa-check"></i><b>5.4.1</b> Overview</a></li>
<li class="chapter" data-level="5.4.2" data-path="web-servers-1.html"><a href="web-servers-1.html#static-servers"><i class="fa fa-check"></i><b>5.4.2</b> Static servers</a></li>
<li class="chapter" data-level="5.4.3" data-path="web-servers-1.html"><a href="web-servers-1.html#dynamic-servers"><i class="fa fa-check"></i><b>5.4.3</b> Dynamic servers</a></li>
<li class="chapter" data-level="5.4.4" data-path="web-servers-1.html"><a href="web-servers-1.html#software-1"><i class="fa fa-check"></i><b>5.4.4</b> Software</a></li>
<li class="chapter" data-level="5.4.5" data-path="web-servers-1.html"><a href="web-servers-1.html#practical-considerations"><i class="fa fa-check"></i><b>5.4.5</b> Practical considerations</a></li>
</ul></li>
<li class="chapter" data-level="5.5" data-path="web-servers-1.html"><a href="web-servers-1.html#urls-and-file-structure"><i class="fa fa-check"></i><b>5.5</b> URLs and file structure</a>
<ul>
<li class="chapter" data-level="5.5.1" data-path="web-servers-1.html"><a href="web-servers-1.html#urls-and-index-html"><i class="fa fa-check"></i><b>5.5.1</b> URLs and <code>index.html</code></a></li>
<li class="chapter" data-level="5.5.2" data-path="web-servers-1.html"><a href="web-servers-1.html#file-structure"><i class="fa fa-check"></i><b>5.5.2</b> File structure</a></li>
<li class="chapter" data-level="5.5.3" data-path="web-servers-1.html"><a href="web-servers-1.html#relative-paths"><i class="fa fa-check"></i><b>5.5.3</b> Relative paths</a></li>
<li class="chapter" data-level="5.5.4" data-path="web-servers-1.html"><a href="web-servers-1.html#css-and-javasccript"><i class="fa fa-check"></i><b>5.5.4</b> CSS and JavaScript</a></li>
</ul></li>
<li class="chapter" data-level="5.6" data-path="web-servers-1.html"><a href="web-servers-1.html#running-a-static-server"><i class="fa fa-check"></i><b>5.6</b> Running a static server</a>
<ul>
<li class="chapter" data-level="5.6.1" data-path="web-servers-1.html"><a href="web-servers-1.html#overview-running-static-server"><i class="fa fa-check"></i><b>5.6.1</b> Overview</a></li>
<li class="chapter" data-level="5.6.2" data-path="web-servers-1.html"><a href="web-servers-1.html#local-with-python"><i class="fa fa-check"></i><b>5.6.2</b> Local with Python</a></li>
<li class="chapter" data-level="5.6.3" data-path="web-servers-1.html"><a href="web-servers-1.html#remote-with-github-pages"><i class="fa fa-check"></i><b>5.6.3</b> Remote with GitHub Pages</a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>II Web Mapping with Leaflet</b></span></li>
<li class="chapter" data-level="6" data-path="leaflet.html"><a href="leaflet.html"><i class="fa fa-check"></i><b>6</b> Leaflet</a>
<ul>
<li class="chapter" data-level="6.1" data-path="leaflet.html"><a href="leaflet.html#introduction-5"><i class="fa fa-check"></i><b>6.1</b> Introduction</a></li>
<li class="chapter" data-level="6.2" data-path="leaflet.html"><a href="leaflet.html#what-is-web-map"><i class="fa fa-check"></i><b>6.2</b> What is a web map?</a></li>
<li class="chapter" data-level="6.3" data-path="leaflet.html"><a href="leaflet.html#what-is-leaflet"><i class="fa fa-check"></i><b>6.3</b> What is Leaflet?</a></li>
<li class="chapter" data-level="6.4" data-path="leaflet.html"><a href="leaflet.html#alternatives-to-leaflet"><i class="fa fa-check"></i><b>6.4</b> Alternatives to Leaflet</a></li>
<li class="chapter" data-level="6.5" data-path="leaflet.html"><a href="leaflet.html#creating-a-basic-web-map"><i class="fa fa-check"></i><b>6.5</b> Creating a basic web map</a>
<ul>
<li class="chapter" data-level="6.5.1" data-path="leaflet.html"><a href="leaflet.html#overview-creating-a-basic-web-map"><i class="fa fa-check"></i><b>6.5.1</b> Overview</a></li>
<li class="chapter" data-level="6.5.2" data-path="leaflet.html"><a href="leaflet.html#web-page-setup"><i class="fa fa-check"></i><b>6.5.2</b> Web page setup</a></li>
<li class="chapter" data-level="6.5.3" data-path="leaflet.html"><a href="leaflet.html#javascript-libraries"><i class="fa fa-check"></i><b>6.5.3</b> JavaScript libraries</a></li>
<li class="chapter" data-level="6.5.4" data-path="leaflet.html"><a href="leaflet.html#including-a-library"><i class="fa fa-check"></i><b>6.5.4</b> Including a library</a></li>
<li class="chapter" data-level="6.5.5" data-path="leaflet.html"><a href="leaflet.html#loading-a-local-script"><i class="fa fa-check"></i><b>6.5.5</b> Loading a local script</a></li>
<li class="chapter" data-level="6.5.6" data-path="leaflet.html"><a href="leaflet.html#loading-a-remote-script"><i class="fa fa-check"></i><b>6.5.6</b> Loading a remote script</a></li>
<li class="chapter" data-level="6.5.7" data-path="leaflet.html"><a href="leaflet.html#including-leaflet-css-js"><i class="fa fa-check"></i><b>6.5.7</b> Including Leaflet CSS and JavaScript</a></li>
<li class="chapter" data-level="6.5.8" data-path="leaflet.html"><a href="leaflet.html#adding-map-div"><i class="fa fa-check"></i><b>6.5.8</b> Adding map <code>&lt;div&gt;</code></a></li>
<li class="chapter" data-level="6.5.9" data-path="leaflet.html"><a href="leaflet.html#creating-map-object"><i class="fa fa-check"></i><b>6.5.9</b> Creating a map object</a></li>
<li class="chapter" data-level="6.5.10" data-path="leaflet.html"><a href="leaflet.html#what-are-tile-layers"><i class="fa fa-check"></i><b>6.5.10</b> What are tile layers?</a></li>
<li class="chapter" data-level="6.5.11" data-path="leaflet.html"><a href="leaflet.html#adding-a-tile-layer"><i class="fa fa-check"></i><b>6.5.11</b> Adding a tile layer</a></li>
<li class="chapter" data-level="6.5.12" data-path="leaflet.html"><a href="leaflet.html#tile-layer-providers"><i class="fa fa-check"></i><b>6.5.12</b> Tile layer providers</a></li>
</ul></li>
<li class="chapter" data-level="6.6" data-path="leaflet.html"><a href="leaflet.html#adding-vector-layers"><i class="fa fa-check"></i><b>6.6</b> Adding vector layers</a>
<ul>
<li class="chapter" data-level="6.6.1" data-path="leaflet.html"><a href="leaflet.html#overview-adding-vector-layers"><i class="fa fa-check"></i><b>6.6.1</b> Overview</a></li>
<li class="chapter" data-level="6.6.2" data-path="leaflet.html"><a href="leaflet.html#adding-markers"><i class="fa fa-check"></i><b>6.6.2</b> Adding markers</a></li>
<li class="chapter" data-level="6.6.3" data-path="leaflet.html"><a href="leaflet.html#adding-lines"><i class="fa fa-check"></i><b>6.6.3</b> Adding lines</a></li>
<li class="chapter" data-level="6.6.4" data-path="leaflet.html"><a href="leaflet.html#adding-polygons"><i class="fa fa-check"></i><b>6.6.4</b> Adding polygons</a></li>
<li class="chapter" data-level="6.6.5" data-path="leaflet.html"><a href="leaflet.html#other-layer-types"><i class="fa fa-check"></i><b>6.6.5</b> Other layer types</a></li>
</ul></li>
<li class="chapter" data-level="6.7" data-path="leaflet.html"><a href="leaflet.html#adding-popups"><i class="fa fa-check"></i><b>6.7</b> Adding popups</a></li>
<li class="chapter" data-level="6.8" data-path="leaflet.html"><a href="leaflet.html#adding-a-description"><i class="fa fa-check"></i><b>6.8</b> Adding a description</a></li>
<li class="chapter" data-level="6.9" data-path="leaflet.html"><a href="leaflet.html#introducing-map-events"><i class="fa fa-check"></i><b>6.9</b> Introducing map events</a></li>
<li class="chapter" data-level="6.10" data-path="leaflet.html"><a href="leaflet.html#exercise-06"><i class="fa fa-check"></i><b>6.10</b> Exercise</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="geojson-1.html"><a href="geojson-1.html"><i class="fa fa-check"></i><b>7</b> GeoJSON</a>
<ul>
<li class="chapter" data-level="7.1" data-path="geojson-1.html"><a href="geojson-1.html#introduction-6"><i class="fa fa-check"></i><b>7.1</b> Introduction</a></li>
<li class="chapter" data-level="7.2" data-path="geojson-1.html"><a href="geojson-1.html#what-is-geojson"><i class="fa fa-check"></i><b>7.2</b> What is GeoJSON?</a></li>
<li class="chapter" data-level="7.3" data-path="geojson-1.html"><a href="geojson-1.html#geojson-structure"><i class="fa fa-check"></i><b>7.3</b> GeoJSON structure</a>
<ul>
<li class="chapter" data-level="7.3.1" data-path="geojson-1.html"><a href="geojson-1.html#overview-geojson"><i class="fa fa-check"></i><b>7.3.1</b> Overview</a></li>
<li class="chapter" data-level="7.3.2" data-path="geojson-1.html"><a href="geojson-1.html#geometries"><i class="fa fa-check"></i><b>7.3.2</b> Geometries</a></li>
<li class="chapter" data-level="7.3.3" data-path="geojson-1.html"><a href="geojson-1.html#features"><i class="fa fa-check"></i><b>7.3.3</b> Features</a></li>
<li class="chapter" data-level="7.3.4" data-path="geojson-1.html"><a href="geojson-1.html#feature-collections"><i class="fa fa-check"></i><b>7.3.4</b> Feature collections</a></li>
</ul></li>
<li class="chapter" data-level="7.4" data-path="geojson-1.html"><a href="geojson-1.html#editing-geojson"><i class="fa fa-check"></i><b>7.4</b> Editing GeoJSON</a>
<ul>
<li class="chapter" data-level="7.4.1" data-path="geojson-1.html"><a href="geojson-1.html#geojson-io"><i class="fa fa-check"></i><b>7.4.1</b> geojson.io</a></li>
<li class="chapter" data-level="7.4.2" data-path="geojson-1.html"><a href="geojson-1.html#mapshaper"><i class="fa fa-check"></i><b>7.4.2</b> mapshaper</a></li>
</ul></li>
<li class="chapter" data-level="7.5" data-path="geojson-1.html"><a href="geojson-1.html#adding-geojson-to-leaflet-map"><i class="fa fa-check"></i><b>7.5</b> Adding GeoJSON to Leaflet map</a></li>
<li class="chapter" data-level="7.6" data-path="geojson-1.html"><a href="geojson-1.html#geojson-viewer"><i class="fa fa-check"></i><b>7.6</b> GeoJSON viewer example</a>
<ul>
<li class="chapter" data-level="7.6.1" data-path="geojson-1.html"><a href="geojson-1.html#viewer-structure"><i class="fa fa-check"></i><b>7.6.1</b> Viewer structure</a></li>
<li class="chapter" data-level="7.6.2" data-path="geojson-1.html"><a href="geojson-1.html#viewer-html-and-css"><i class="fa fa-check"></i><b>7.6.2</b> HTML and CSS</a></li>
<li class="chapter" data-level="7.6.3" data-path="geojson-1.html"><a href="geojson-1.html#base-map"><i class="fa fa-check"></i><b>7.6.3</b> Base map</a></li>
<li class="chapter" data-level="7.6.4" data-path="geojson-1.html"><a href="geojson-1.html#adding-an-event-listener"><i class="fa fa-check"></i><b>7.6.4</b> Adding an event listener</a></li>
<li class="chapter" data-level="7.6.5" data-path="geojson-1.html"><a href="geojson-1.html#using-layer-groups"><i class="fa fa-check"></i><b>7.6.5</b> Using layer groups</a></li>
</ul></li>
<li class="chapter" data-level="7.7" data-path="geojson-1.html"><a href="geojson-1.html#ajax"><i class="fa fa-check"></i><b>7.7</b> Ajax and the <code>fetch</code> API</a>
<ul>
<li class="chapter" data-level="7.7.1" data-path="geojson-1.html"><a href="geojson-1.html#overview-ajax"><i class="fa fa-check"></i><b>7.7.1</b> What is Ajax?</a></li>
<li class="chapter" data-level="7.7.2" data-path="geojson-1.html"><a href="geojson-1.html#ajax-examples"><i class="fa fa-check"></i><b>7.7.2</b> Ajax examples</a></li>
<li class="chapter" data-level="7.7.3" data-path="geojson-1.html"><a href="geojson-1.html#making-ajax-requests-with-fetch"><i class="fa fa-check"></i><b>7.7.3</b> The <code>fetch</code> API</a></li>
</ul></li>
<li class="chapter" data-level="7.8" data-path="geojson-1.html"><a href="geojson-1.html#loading-geojson-files"><i class="fa fa-check"></i><b>7.8</b> Loading GeoJSON files</a>
<ul>
<li class="chapter" data-level="7.8.1" data-path="geojson-1.html"><a href="geojson-1.html#loading-local-files"><i class="fa fa-check"></i><b>7.8.1</b> Loading local files</a></li>
<li class="chapter" data-level="7.8.2" data-path="geojson-1.html"><a href="geojson-1.html#loading-remote-files"><i class="fa fa-check"></i><b>7.8.2</b> Loading remote files</a></li>
</ul></li>
<li class="chapter" data-level="7.9" data-path="geojson-1.html"><a href="geojson-1.html#exercise-4"><i class="fa fa-check"></i><b>7.9</b> Exercise</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="symbology-and-interactivity.html"><a href="symbology-and-interactivity.html"><i class="fa fa-check"></i><b>8</b> Symbology and Interactivity</a>
<ul>
<li class="chapter" data-level="8.1" data-path="symbology-and-interactivity.html"><a href="symbology-and-interactivity.html#introduction-7"><i class="fa fa-check"></i><b>8.1</b> Introduction</a></li>
<li class="chapter" data-level="8.2" data-path="symbology-and-interactivity.html"><a href="symbology-and-interactivity.html#l-geojson-options"><i class="fa fa-check"></i><b>8.2</b> <code>L.geoJSON</code> options</a></li>
<li class="chapter" data-level="8.3" data-path="symbology-and-interactivity.html"><a href="symbology-and-interactivity.html#constant-style"><i class="fa fa-check"></i><b>8.3</b> Constant style</a></li>
<li class="chapter" data-level="8.4" data-path="symbology-and-interactivity.html"><a href="symbology-and-interactivity.html#varying-style"><i class="fa fa-check"></i><b>8.4</b> Varying style</a>
<ul>
<li class="chapter" data-level="8.4.1" data-path="symbology-and-interactivity.html"><a href="symbology-and-interactivity.html#setting-varying-style"><i class="fa fa-check"></i><b>8.4.1</b> Setting varying style</a></li>
<li class="chapter" data-level="8.4.2" data-path="symbology-and-interactivity.html"><a href="symbology-and-interactivity.html#states-example"><i class="fa fa-check"></i><b>8.4.2</b> States example</a></li>
<li class="chapter" data-level="8.4.3" data-path="symbology-and-interactivity.html"><a href="symbology-and-interactivity.html#towns-example"><i class="fa fa-check"></i><b>8.4.3</b> Towns example</a></li>
</ul></li>
<li class="chapter" data-level="8.5" data-path="symbology-and-interactivity.html"><a href="symbology-and-interactivity.html#constructing-popups-from-data"><i class="fa fa-check"></i><b>8.5</b> Constructing popups from data</a></li>
<li class="chapter" data-level="8.6" data-path="symbology-and-interactivity.html"><a href="symbology-and-interactivity.html#adding-a-legend"><i class="fa fa-check"></i><b>8.6</b> Adding a legend</a>
<ul>
<li class="chapter" data-level="8.6.1" data-path="symbology-and-interactivity.html"><a href="symbology-and-interactivity.html#setting-legend-contents-with-l.control"><i class="fa fa-check"></i><b>8.6.1</b> Setting legend contents with <code>L.control</code></a></li>
<li class="chapter" data-level="8.6.2" data-path="symbology-and-interactivity.html"><a href="symbology-and-interactivity.html#using-css-to-style-the-legend"><i class="fa fa-check"></i><b>8.6.2</b> Using CSS to style the legend</a></li>
</ul></li>
<li class="chapter" data-level="8.7" data-path="symbology-and-interactivity.html"><a href="symbology-and-interactivity.html#dynamic-style"><i class="fa fa-check"></i><b>8.7</b> Dynamic style</a>
<ul>
<li class="chapter" data-level="8.7.1" data-path="symbology-and-interactivity.html"><a href="symbology-and-interactivity.html#styling-in-response-to-events"><i class="fa fa-check"></i><b>8.7.1</b> Styling in response to events</a></li>
<li class="chapter" data-level="8.7.2" data-path="symbology-and-interactivity.html"><a href="symbology-and-interactivity.html#dynamic-control-contents"><i class="fa fa-check"></i><b>8.7.2</b> Dynamic control contents</a></li>
<li class="chapter" data-level="8.7.3" data-path="symbology-and-interactivity.html"><a href="symbology-and-interactivity.html#linked-views"><i class="fa fa-check"></i><b>8.7.3</b> Linked views</a></li>
</ul></li>
<li class="chapter" data-level="8.8" data-path="symbology-and-interactivity.html"><a href="symbology-and-interactivity.html#exercise-08"><i class="fa fa-check"></i><b>8.8</b> Exercise</a></li>
</ul></li>
<li class="part"><span><b>III Databases</b></span></li>
<li class="chapter" data-level="9" data-path="databases.html"><a href="databases.html"><i class="fa fa-check"></i><b>9</b> Databases</a>
<ul>
<li class="chapter" data-level="9.1" data-path="databases.html"><a href="databases.html#introduction-databases"><i class="fa fa-check"></i><b>9.1</b> Introduction</a></li>
<li class="chapter" data-level="9.2" data-path="databases.html"><a href="databases.html#what-is-carto"><i class="fa fa-check"></i><b>9.2</b> What is CARTO?</a>
<ul>
<li class="chapter" data-level="9.2.1" data-path="databases.html"><a href="databases.html#the-carto-platform"><i class="fa fa-check"></i><b>9.2.1</b> The CARTO platform</a></li>
<li class="chapter" data-level="9.2.2" data-path="databases.html"><a href="databases.html#alternatives-to-carto"><i class="fa fa-check"></i><b>9.2.2</b> Alternatives to CARTO</a></li>
</ul></li>
<li class="chapter" data-level="9.3" data-path="databases.html"><a href="databases.html#databases-1"><i class="fa fa-check"></i><b>9.3</b> Databases</a></li>
<li class="chapter" data-level="9.4" data-path="databases.html"><a href="databases.html#spatial-databases"><i class="fa fa-check"></i><b>9.4</b> Spatial databases</a></li>
<li class="chapter" data-level="9.5" data-path="databases.html"><a href="databases.html#what-is-postgis"><i class="fa fa-check"></i><b>9.5</b> What is PostGIS?</a></li>
<li class="chapter" data-level="9.6" data-path="databases.html"><a href="databases.html#what-is-sql"><i class="fa fa-check"></i><b>9.6</b> What is SQL?</a>
<ul>
<li class="chapter" data-level="9.6.1" data-path="databases.html"><a href="databases.html#overview-sql"><i class="fa fa-check"></i><b>9.6.1</b> Overview</a></li>
<li class="chapter" data-level="9.6.2" data-path="databases.html"><a href="databases.html#non-spatial-queries"><i class="fa fa-check"></i><b>9.6.2</b> Non-spatial queries</a></li>
<li class="chapter" data-level="9.6.3" data-path="databases.html"><a href="databases.html#the-geometry-column"><i class="fa fa-check"></i><b>9.6.3</b> The geometry column</a></li>
<li class="chapter" data-level="9.6.4" data-path="databases.html"><a href="databases.html#spatial-queries"><i class="fa fa-check"></i><b>9.6.4</b> Spatial queries</a></li>
</ul></li>
<li class="chapter" data-level="9.7" data-path="databases.html"><a href="databases.html#the-carto-sql-api"><i class="fa fa-check"></i><b>9.7</b> The CARTO SQL API</a>
<ul>
<li class="chapter" data-level="9.7.1" data-path="databases.html"><a href="databases.html#api-usage"><i class="fa fa-check"></i><b>9.7.1</b> API usage</a></li>
<li class="chapter" data-level="9.7.2" data-path="databases.html"><a href="databases.html#query-example"><i class="fa fa-check"></i><b>9.7.2</b> Query example</a></li>
<li class="chapter" data-level="9.7.3" data-path="databases.html"><a href="databases.html#uploading-your-data"><i class="fa fa-check"></i><b>9.7.3</b> Uploading your data</a></li>
</ul></li>
<li class="chapter" data-level="9.8" data-path="databases.html"><a href="databases.html#carto-and-leaflet"><i class="fa fa-check"></i><b>9.8</b> CARTO and Leaflet</a></li>
<li class="chapter" data-level="9.9" data-path="databases.html"><a href="databases.html#exercise-09"><i class="fa fa-check"></i><b>9.9</b> Exercise</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="non-spatial-queries-1.html"><a href="non-spatial-queries-1.html"><i class="fa fa-check"></i><b>10</b> Non-spatial Queries</a>
<ul>
<li class="chapter" data-level="10.1" data-path="non-spatial-queries-1.html"><a href="non-spatial-queries-1.html#introduction-8"><i class="fa fa-check"></i><b>10.1</b> Introduction</a></li>
<li class="chapter" data-level="10.2" data-path="non-spatial-queries-1.html"><a href="non-spatial-queries-1.html#subsetting-with-sql"><i class="fa fa-check"></i><b>10.2</b> Subsetting with SQL</a>
<ul>
<li class="chapter" data-level="10.2.1" data-path="non-spatial-queries-1.html"><a href="non-spatial-queries-1.html#filtering-based-on-attributes"><i class="fa fa-check"></i><b>10.2.1</b> Filtering based on attributes</a></li>
<li class="chapter" data-level="10.2.2" data-path="non-spatial-queries-1.html"><a href="non-spatial-queries-1.html#displaying-on-a-map"><i class="fa fa-check"></i><b>10.2.2</b> Displaying on a map</a></li>
</ul></li>
<li class="chapter" data-level="10.3" data-path="non-spatial-queries-1.html"><a href="non-spatial-queries-1.html#creating-a-dropdown-menu"><i class="fa fa-check"></i><b>10.3</b> Creating a dropdown menu</a></li>
<li class="chapter" data-level="10.4" data-path="non-spatial-queries-1.html"><a href="non-spatial-queries-1.html#populating-dropdown-options"><i class="fa fa-check"></i><b>10.4</b> Populating dropdown options</a>
<ul>
<li class="chapter" data-level="10.4.1" data-path="non-spatial-queries-1.html"><a href="non-spatial-queries-1.html#how-many-species-do-we-have"><i class="fa fa-check"></i><b>10.4.1</b> How many species do we have?</a></li>
<li class="chapter" data-level="10.4.2" data-path="non-spatial-queries-1.html"><a href="non-spatial-queries-1.html#dropdown-menu-placeholder"><i class="fa fa-check"></i><b>10.4.2</b> Dropdown menu placeholder</a></li>
<li class="chapter" data-level="10.4.3" data-path="non-spatial-queries-1.html"><a href="non-spatial-queries-1.html#finding-unique-values"><i class="fa fa-check"></i><b>10.4.3</b> Finding unique values</a></li>
<li class="chapter" data-level="10.4.4" data-path="non-spatial-queries-1.html"><a href="non-spatial-queries-1.html#adding-options"><i class="fa fa-check"></i><b>10.4.4</b> Adding the options</a></li>
</ul></li>
<li class="chapter" data-level="10.5" data-path="non-spatial-queries-1.html"><a href="non-spatial-queries-1.html#updating-the-map"><i class="fa fa-check"></i><b>10.5</b> Updating the map</a>
<ul>
<li class="chapter" data-level="10.5.1" data-path="non-spatial-queries-1.html"><a href="non-spatial-queries-1.html#overview-updating-map"><i class="fa fa-check"></i><b>10.5.1</b> Overview</a></li>
<li class="chapter" data-level="10.5.2" data-path="non-spatial-queries-1.html"><a href="non-spatial-queries-1.html#manual-example"><i class="fa fa-check"></i><b>10.5.2</b> Manual example</a></li>
<li class="chapter" data-level="10.5.3" data-path="non-spatial-queries-1.html"><a href="non-spatial-queries-1.html#automatic-updating"><i class="fa fa-check"></i><b>10.5.3</b> Automatic updating</a></li>
</ul></li>
<li class="chapter" data-level="10.6" data-path="non-spatial-queries-1.html"><a href="non-spatial-queries-1.html#rearranging-the-code"><i class="fa fa-check"></i><b>10.6</b> Refactoring the code</a></li>
<li class="chapter" data-level="10.7" data-path="non-spatial-queries-1.html"><a href="non-spatial-queries-1.html#exercise-10"><i class="fa fa-check"></i><b>10.7</b> Exercise</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="spatial-queries-1.html"><a href="spatial-queries-1.html"><i class="fa fa-check"></i><b>11</b> Spatial Queries</a>
<ul>
<li class="chapter" data-level="11.1" data-path="spatial-queries-1.html"><a href="spatial-queries-1.html#introduction-9"><i class="fa fa-check"></i><b>11.1</b> Introduction</a></li>
<li class="chapter" data-level="11.2" data-path="spatial-queries-1.html"><a href="spatial-queries-1.html#adding-marker-on-click"><i class="fa fa-check"></i><b>11.2</b> Adding markers on click</a>
<ul>
<li class="chapter" data-level="11.2.1" data-path="spatial-queries-1.html"><a href="spatial-queries-1.html#getting-click-coordinates"><i class="fa fa-check"></i><b>11.2.1</b> Getting click coordinates</a></li>
<li class="chapter" data-level="11.2.2" data-path="spatial-queries-1.html"><a href="spatial-queries-1.html#adding-custom-marker"><i class="fa fa-check"></i><b>11.2.2</b> Adding a custom marker</a></li>
</ul></li>
<li class="chapter" data-level="11.3" data-path="spatial-queries-1.html"><a href="spatial-queries-1.html#spatial-postgis-operators"><i class="fa fa-check"></i><b>11.3</b> Spatial PostGIS operators</a>
<ul>
<li class="chapter" data-level="11.3.1" data-path="spatial-queries-1.html"><a href="spatial-queries-1.html#overview-postgis-operators"><i class="fa fa-check"></i><b>11.3.1</b> Overview</a></li>
<li class="chapter" data-level="11.3.2" data-path="spatial-queries-1.html"><a href="spatial-queries-1.html#geographical-distance"><i class="fa fa-check"></i><b>11.3.2</b> Geographical distance</a></li>
<li class="chapter" data-level="11.3.3" data-path="spatial-queries-1.html"><a href="spatial-queries-1.html#sphere-vs-spheroid"><i class="fa fa-check"></i><b>11.3.3</b> Sphere vs. spheroid</a></li>
</ul></li>
<li class="chapter" data-level="11.4" data-path="spatial-queries-1.html"><a href="spatial-queries-1.html#adding-nearest-points-to-map"><i class="fa fa-check"></i><b>11.4</b> Adding nearest points to map</a></li>
<li class="chapter" data-level="11.5" data-path="spatial-queries-1.html"><a href="spatial-queries-1.html#drawing-line-connectors"><i class="fa fa-check"></i><b>11.5</b> Drawing line connectors</a></li>
<li class="chapter" data-level="11.6" data-path="spatial-queries-1.html"><a href="spatial-queries-1.html#exercise-5"><i class="fa fa-check"></i><b>11.6</b> Exercise</a></li>
</ul></li>
<li class="part"><span><b>IV Advanced Topics</b></span></li>
<li class="chapter" data-level="12" data-path="client-side-geoprocessing.html"><a href="client-side-geoprocessing.html"><i class="fa fa-check"></i><b>12</b> Client-side Geoprocessing</a>
<ul>
<li class="chapter" data-level="12.1" data-path="client-side-geoprocessing.html"><a href="client-side-geoprocessing.html#introduction-10"><i class="fa fa-check"></i><b>12.1</b> Introduction</a></li>
<li class="chapter" data-level="12.2" data-path="client-side-geoprocessing.html"><a href="client-side-geoprocessing.html#geoprocessing-with-turfjs"><i class="fa fa-check"></i><b>12.2</b> Geoprocessing with Turf.js</a>
<ul>
<li class="chapter" data-level="12.2.1" data-path="client-side-geoprocessing.html"><a href="client-side-geoprocessing.html#overview-turfjs"><i class="fa fa-check"></i><b>12.2.1</b> Overview</a></li>
<li class="chapter" data-level="12.2.2" data-path="client-side-geoprocessing.html"><a href="client-side-geoprocessing.html#including-the-turf-js-library"><i class="fa fa-check"></i><b>12.2.2</b> Including the Turf.js library</a></li>
</ul></li>
<li class="chapter" data-level="12.3" data-path="client-side-geoprocessing.html"><a href="client-side-geoprocessing.html#great-circle-line"><i class="fa fa-check"></i><b>12.3</b> Great Circle line</a></li>
<li class="chapter" data-level="12.4" data-path="client-side-geoprocessing.html"><a href="client-side-geoprocessing.html#continuously-updated-tin"><i class="fa fa-check"></i><b>12.4</b> Continuously updated TIN</a>
<ul>
<li class="chapter" data-level="12.4.1" data-path="client-side-geoprocessing.html"><a href="client-side-geoprocessing.html#overview-continuous-tin"><i class="fa fa-check"></i><b>12.4.1</b> Overview</a></li>
<li class="chapter" data-level="12.4.2" data-path="client-side-geoprocessing.html"><a href="client-side-geoprocessing.html#generating-random-points"><i class="fa fa-check"></i><b>12.4.2</b> Generating random points</a></li>
<li class="chapter" data-level="12.4.3" data-path="client-side-geoprocessing.html"><a href="client-side-geoprocessing.html#adding-a-tin-layer"><i class="fa fa-check"></i><b>12.4.3</b> Adding a TIN layer</a></li>
<li class="chapter" data-level="12.4.4" data-path="client-side-geoprocessing.html"><a href="client-side-geoprocessing.html#draggable-circle-markers"><i class="fa fa-check"></i><b>12.4.4</b> Draggable circle markers</a></li>
<li class="chapter" data-level="12.4.5" data-path="client-side-geoprocessing.html"><a href="client-side-geoprocessing.html#continuous-updating"><i class="fa fa-check"></i><b>12.4.5</b> Continuous updating</a></li>
</ul></li>
<li class="chapter" data-level="12.5" data-path="client-side-geoprocessing.html"><a href="client-side-geoprocessing.html#clustering"><i class="fa fa-check"></i><b>12.5</b> Clustering</a>
<ul>
<li class="chapter" data-level="12.5.1" data-path="client-side-geoprocessing.html"><a href="client-side-geoprocessing.html#overview-clustering"><i class="fa fa-check"></i><b>12.5.1</b> Overview</a></li>
<li class="chapter" data-level="12.5.2" data-path="client-side-geoprocessing.html"><a href="client-side-geoprocessing.html#processing-sets-of-features"><i class="fa fa-check"></i><b>12.5.2</b> Processing sets of features</a></li>
<li class="chapter" data-level="12.5.3" data-path="client-side-geoprocessing.html"><a href="client-side-geoprocessing.html#adding-a-convex-hull"><i class="fa fa-check"></i><b>12.5.3</b> Adding a Convex Hull</a></li>
<li class="chapter" data-level="12.5.4" data-path="client-side-geoprocessing.html"><a href="client-side-geoprocessing.html#dbscan-clustering"><i class="fa fa-check"></i><b>12.5.4</b> DBSCAN clustering</a></li>
</ul></li>
<li class="chapter" data-level="12.6" data-path="client-side-geoprocessing.html"><a href="client-side-geoprocessing.html#heatmaps-with-leafletheat"><i class="fa fa-check"></i><b>12.6</b> Heatmaps with Leaflet.heat</a></li>
<li class="chapter" data-level="12.7" data-path="client-side-geoprocessing.html"><a href="client-side-geoprocessing.html#exercise-6"><i class="fa fa-check"></i><b>12.7</b> Exercise</a></li>
</ul></li>
<li class="chapter" data-level="13" data-path="collaborative-mapping.html"><a href="collaborative-mapping.html"><i class="fa fa-check"></i><b>13</b> Collaborative Mapping</a>
<ul>
<li class="chapter" data-level="13.1" data-path="collaborative-mapping.html"><a href="collaborative-mapping.html#introduction-11"><i class="fa fa-check"></i><b>13.1</b> Introduction</a></li>
<li class="chapter" data-level="13.2" data-path="collaborative-mapping.html"><a href="collaborative-mapping.html#crowdsourcing"><i class="fa fa-check"></i><b>13.2</b> Crowdsourcing</a></li>
<li class="chapter" data-level="13.3" data-path="collaborative-mapping.html"><a href="collaborative-mapping.html#the-drawing-control"><i class="fa fa-check"></i><b>13.3</b> The drawing control</a></li>
<li class="chapter" data-level="13.4" data-path="collaborative-mapping.html"><a href="collaborative-mapping.html#working-with-drawn-items"><i class="fa fa-check"></i><b>13.4</b> Working with drawn items</a>
<ul>
<li class="chapter" data-level="13.4.1" data-path="collaborative-mapping.html"><a href="collaborative-mapping.html#printing-drawn-items-geojson"><i class="fa fa-check"></i><b>13.4.1</b> Printing drawn items GeoJSON</a></li>
<li class="chapter" data-level="13.4.2" data-path="collaborative-mapping.html"><a href="collaborative-mapping.html#expanded-geojson-viewer"><i class="fa fa-check"></i><b>13.4.2</b> Expanded GeoJSON viewer</a></li>
</ul></li>
<li class="chapter" data-level="13.5" data-path="collaborative-mapping.html"><a href="collaborative-mapping.html#submission-form"><i class="fa fa-check"></i><b>13.5</b> Submission form</a></li>
<li class="chapter" data-level="13.6" data-path="collaborative-mapping.html"><a href="collaborative-mapping.html#sending-features-to-the-database"><i class="fa fa-check"></i><b>13.6</b> Sending features to the database</a>
<ul>
<li class="chapter" data-level="13.6.1" data-path="collaborative-mapping.html"><a href="collaborative-mapping.html#setting-database-permissions"><i class="fa fa-check"></i><b>13.6.1</b> Setting database permissions</a></li>
<li class="chapter" data-level="13.6.2" data-path="collaborative-mapping.html"><a href="collaborative-mapping.html#adding-draw-control"><i class="fa fa-check"></i><b>13.6.2</b> Adding the drawing control</a></li>
</ul></li>
<li class="chapter" data-level="13.7" data-path="collaborative-mapping.html"><a href="collaborative-mapping.html#exercise-7"><i class="fa fa-check"></i><b>13.7</b> Exercise</a></li>
</ul></li>
<li class="part"><span><b>V Appendices</b></span></li>
<li class="appendix"><span><b>Appendix</b></span></li>
<li class="chapter" data-level="A" data-path="associated-files.html"><a href="associated-files.html"><i class="fa fa-check"></i><b>A</b> Associated Files</a></li>
<li class="chapter" data-level="B" data-path="list-of-examples.html"><a href="list-of-examples.html"><i class="fa fa-check"></i><b>B</b> List of Examples</a>
<ul>
<li class="chapter" data-level="B.1" data-path="list-of-examples.html"><a href="list-of-examples.html#main"><i class="fa fa-check"></i><b>B.1</b> Main</a></li>
<li class="chapter" data-level="B.2" data-path="list-of-examples.html"><a href="list-of-examples.html#additional"><i class="fa fa-check"></i><b>B.2</b> Additional</a>
<ul>
<li class="chapter" data-level="B.2.1" data-path="list-of-examples.html"><a href="list-of-examples.html#html-and-css"><i class="fa fa-check"></i><b>B.2.1</b> HTML and CSS</a></li>
<li class="chapter" data-level="B.2.2" data-path="list-of-examples.html"><a href="list-of-examples.html#javascript"><i class="fa fa-check"></i><b>B.2.2</b> JavaScript</a></li>
<li class="chapter" data-level="B.2.3" data-path="list-of-examples.html"><a href="list-of-examples.html#leaflet-1"><i class="fa fa-check"></i><b>B.2.3</b> Leaflet</a></li>
<li class="chapter" data-level="B.2.4" data-path="list-of-examples.html"><a href="list-of-examples.html#geo-processing"><i class="fa fa-check"></i><b>B.2.4</b> Geo-processing</a></li>
<li class="chapter" data-level="B.2.5" data-path="list-of-examples.html"><a href="list-of-examples.html#d-maps"><i class="fa fa-check"></i><b>B.2.5</b> 2.5D Maps</a></li>
<li class="chapter" data-level="B.2.6" data-path="list-of-examples.html"><a href="list-of-examples.html#d-maps-1"><i class="fa fa-check"></i><b>B.2.6</b> 3D maps</a></li>
<li class="chapter" data-level="B.2.7" data-path="list-of-examples.html"><a href="list-of-examples.html#animation"><i class="fa fa-check"></i><b>B.2.7</b> Animation</a></li>
<li class="chapter" data-level="B.2.8" data-path="list-of-examples.html"><a href="list-of-examples.html#real-time-data"><i class="fa fa-check"></i><b>B.2.8</b> Real-time data</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="C" data-path="list-of-exercise-solutions.html"><a href="list-of-exercise-solutions.html"><i class="fa fa-check"></i><b>C</b> List of Exercise Solutions</a></li>
<li class="chapter" data-level="D" data-path="bgu-course-2021.html"><a href="bgu-course-2021.html"><i class="fa fa-check"></i><b>D</b> BGU course 2021</a>
<ul>
<li class="chapter" data-level="D.1" data-path="bgu-course-2021.html"><a href="bgu-course-2021.html#place-and-time"><i class="fa fa-check"></i><b>D.1</b> Place and Time</a></li>
<li class="chapter" data-level="D.2" data-path="bgu-course-2021.html"><a href="bgu-course-2021.html#lecture-plan"><i class="fa fa-check"></i><b>D.2</b> Lecture plan</a></li>
<li class="chapter" data-level="D.3" data-path="bgu-course-2021.html"><a href="bgu-course-2021.html#project-submission-dates"><i class="fa fa-check"></i><b>D.3</b> Project submission dates</a></li>
<li class="chapter" data-level="D.4" data-path="bgu-course-2021.html"><a href="bgu-course-2021.html#additional-resources"><i class="fa fa-check"></i><b>D.4</b> Additional resources</a>
<ul>
<li class="chapter" data-level="D.4.1" data-path="bgu-course-2021.html"><a href="bgu-course-2021.html#html-css"><i class="fa fa-check"></i><b>D.4.1</b> HTML &amp; CSS</a></li>
<li class="chapter" data-level="D.4.2" data-path="bgu-course-2021.html"><a href="bgu-course-2021.html#javascript-1"><i class="fa fa-check"></i><b>D.4.2</b> JavaScript</a></li>
<li class="chapter" data-level="D.4.3" data-path="bgu-course-2021.html"><a href="bgu-course-2021.html#web-mapping"><i class="fa fa-check"></i><b>D.4.3</b> Web mapping</a></li>
<li class="chapter" data-level="D.4.4" data-path="bgu-course-2021.html"><a href="bgu-course-2021.html#postgis"><i class="fa fa-check"></i><b>D.4.4</b> PostGIS</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="E" data-path="projects.html"><a href="projects.html"><i class="fa fa-check"></i><b>E</b> Projects</a>
<ul>
<li class="chapter" data-level="E.1" data-path="projects.html"><a href="projects.html#overview-3"><i class="fa fa-check"></i><b>E.1</b> Overview</a></li>
<li class="chapter" data-level="E.2" data-path="projects.html"><a href="projects.html#carto-account"><i class="fa fa-check"></i><b>E.2</b> CARTO Account</a></li>
<li class="chapter" data-level="E.3" data-path="projects.html"><a href="projects.html#data"><i class="fa fa-check"></i><b>E.3</b> Data</a></li>
<li class="chapter" data-level="E.4" data-path="projects.html"><a href="projects.html#project-requirements"><i class="fa fa-check"></i><b>E.4</b> Project requirements</a>
<ul>
<li class="chapter" data-level="E.4.1" data-path="projects.html"><a href="projects.html#project-01"><i class="fa fa-check"></i><b>E.4.1</b> Project 01</a></li>
<li class="chapter" data-level="E.4.2" data-path="projects.html"><a href="projects.html#project-02"><i class="fa fa-check"></i><b>E.4.2</b> Project 02</a></li>
<li class="chapter" data-level="E.4.3" data-path="projects.html"><a href="projects.html#project-03"><i class="fa fa-check"></i><b>E.4.3</b> Project 03</a></li>
</ul></li>
<li class="chapter" data-level="E.5" data-path="projects.html"><a href="projects.html#submission"><i class="fa fa-check"></i><b>E.5</b> Submission</a></li>
<li class="chapter" data-level="E.6" data-path="projects.html"><a href="projects.html#grading"><i class="fa fa-check"></i><b>E.6</b> Grading</a></li>
</ul></li>
<li class="chapter" data-level="F" data-path="exam.html"><a href="exam.html"><i class="fa fa-check"></i><b>F</b> Exam</a>
<ul>
<li class="chapter" data-level="F.1" data-path="exam.html"><a href="exam.html#topics"><i class="fa fa-check"></i><b>F.1</b> Topics</a></li>
<li class="chapter" data-level="F.2" data-path="exam.html"><a href="exam.html#sample-questions"><i class="fa fa-check"></i><b>F.2</b> Sample questions</a>
<ul>
<li class="chapter" data-level="F.2.1" data-path="exam.html"><a href="exam.html#question-1"><i class="fa fa-check"></i><b>F.2.1</b> Question 1</a></li>
<li class="chapter" data-level="F.2.3" data-path="exam.html"><a href="exam.html#question-3"><i class="fa fa-check"></i><b>F.2.3</b> Question 3</a></li>
<li class="chapter" data-level="F.2.4" data-path="exam.html"><a href="exam.html#question-4"><i class="fa fa-check"></i><b>F.2.4</b> Question 4</a></li>
<li class="chapter" data-level="F.2.5" data-path="exam.html"><a href="exam.html#question-5"><i class="fa fa-check"></i><b>F.2.5</b> Question 5</a></li>
<li class="chapter" data-level="F.2.6" data-path="exam.html"><a href="exam.html#question-6"><i class="fa fa-check"></i><b>F.2.6</b> Question 6</a></li>
<li class="chapter" data-level="F.2.7" data-path="exam.html"><a href="exam.html#question-7"><i class="fa fa-check"></i><b>F.2.7</b> Question 7</a></li>
<li class="chapter" data-level="F.2.8" data-path="exam.html"><a href="exam.html#question-8"><i class="fa fa-check"></i><b>F.2.8</b> Question 8</a></li>
<li class="chapter" data-level="F.2.9" data-path="exam.html"><a href="exam.html#question-9"><i class="fa fa-check"></i><b>F.2.9</b> Question 9</a></li>
<li class="chapter" data-level="F.2.10" data-path="exam.html"><a href="exam.html#question-10"><i class="fa fa-check"></i><b>F.2.10</b> Question 10</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="G" data-path="additional-questions.html"><a href="additional-questions.html"><i class="fa fa-check"></i><b>G</b> Additional Questions</a>
<ul>
<li class="chapter" data-level="G.1" data-path="additional-questions.html"><a href="additional-questions.html#chapter-3"><i class="fa fa-check"></i><b>G.1</b> Chapter 3</a>
<ul>
<li class="chapter" data-level="G.1.1" data-path="additional-questions.html"><a href="additional-questions.html#modifying-global-variable"><i class="fa fa-check"></i><b>G.1.1</b> Modifying global variable</a></li>
<li class="chapter" data-level="G.1.2" data-path="additional-questions.html"><a href="additional-questions.html#insertingremoving-array-element"><i class="fa fa-check"></i><b>G.1.2</b> Inserting/removing array element</a></li>
<li class="chapter" data-level="G.1.3" data-path="additional-questions.html"><a href="additional-questions.html#object-oriented-language"><i class="fa fa-check"></i><b>G.1.3</b> Object Oriented language</a></li>
</ul></li>
<li class="chapter" data-level="G.2" data-path="additional-questions.html"><a href="additional-questions.html#chapter-4"><i class="fa fa-check"></i><b>G.2</b> Chapter 4</a>
<ul>
<li class="chapter" data-level="G.2.1" data-path="additional-questions.html"><a href="additional-questions.html#removing-collection-of-html-elements"><i class="fa fa-check"></i><b>G.2.1</b> Removing collection of HTML elements</a></li>
<li class="chapter" data-level="G.2.2" data-path="additional-questions.html"><a href="additional-questions.html#constraining-event-listener-frequency"><i class="fa fa-check"></i><b>G.2.2</b> Constraining event listener frequency</a></li>
<li class="chapter" data-level="G.2.3" data-path="additional-questions.html"><a href="additional-questions.html#saving-.getelementbyid-method-in-variable"><i class="fa fa-check"></i><b>G.2.3</b> Saving <code>.getElementById</code> method in variable</a></li>
</ul></li>
<li class="chapter" data-level="G.3" data-path="additional-questions.html"><a href="additional-questions.html#chapter-6"><i class="fa fa-check"></i><b>G.3</b> Chapter 6</a>
<ul>
<li class="chapter" data-level="G.3.1" data-path="additional-questions.html"><a href="additional-questions.html#routing"><i class="fa fa-check"></i><b>G.3.1</b> Routing</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="H" data-path="setting-up-an-sql-api.html"><a href="setting-up-an-sql-api.html"><i class="fa fa-check"></i><b>H</b> Setting up an SQL API</a>
<ul>
<li class="chapter" data-level="H.1" data-path="setting-up-an-sql-api.html"><a href="setting-up-an-sql-api.html#introduction-12"><i class="fa fa-check"></i><b>H.1</b> Introduction</a></li>
<li class="chapter" data-level="H.2" data-path="setting-up-an-sql-api.html"><a href="setting-up-an-sql-api.html#computer-with-fixed-ip-address"><i class="fa fa-check"></i><b>H.2</b> Computer with fixed IP address</a></li>
<li class="chapter" data-level="H.3" data-path="setting-up-an-sql-api.html"><a href="setting-up-an-sql-api.html#installing-postgresql-postgis"><i class="fa fa-check"></i><b>H.3</b> Installing PostgreSQL and PostGIS</a></li>
<li class="chapter" data-level="H.4" data-path="setting-up-an-sql-api.html"><a href="setting-up-an-sql-api.html#loading-data-into-the-database"><i class="fa fa-check"></i><b>H.4</b> Loading data into the database</a></li>
<li class="chapter" data-level="H.5" data-path="setting-up-an-sql-api.html"><a href="setting-up-an-sql-api.html#adding-read-only-database-user"><i class="fa fa-check"></i><b>H.5</b> Adding a read-only database user</a></li>
<li class="chapter" data-level="H.6" data-path="setting-up-an-sql-api.html"><a href="setting-up-an-sql-api.html#installing-nodejs-and-required-modules"><i class="fa fa-check"></i><b>H.6</b> Installing Node.js and required modules</a></li>
<li class="chapter" data-level="H.7" data-path="setting-up-an-sql-api.html"><a href="setting-up-an-sql-api.html#creating-a-service"><i class="fa fa-check"></i><b>H.7</b> Creating a service</a></li>
<li class="chapter" data-level="H.8" data-path="setting-up-an-sql-api.html"><a href="setting-up-an-sql-api.html#testing-the-sql-api"><i class="fa fa-check"></i><b>H.8</b> Testing the SQL API</a></li>
</ul></li>
<li class="chapter" data-level="I" data-path="setting-up-a-static-server-using-r.html"><a href="setting-up-a-static-server-using-r.html"><i class="fa fa-check"></i><b>I</b> Setting up a static server using R</a>
<ul>
<li class="chapter" data-level="I.1" data-path="setting-up-a-static-server-using-r.html"><a href="setting-up-a-static-server-using-r.html#introduction-13"><i class="fa fa-check"></i><b>I.1</b> Introduction</a></li>
<li class="chapter" data-level="I.2" data-path="setting-up-a-static-server-using-r.html"><a href="setting-up-a-static-server-using-r.html#installing-r"><i class="fa fa-check"></i><b>I.2</b> Installing R</a></li>
<li class="chapter" data-level="I.3" data-path="setting-up-a-static-server-using-r.html"><a href="setting-up-a-static-server-using-r.html#installing-the-servr-package"><i class="fa fa-check"></i><b>I.3</b> Installing the <code>servr</code> package</a></li>
<li class="chapter" data-level="I.4" data-path="setting-up-a-static-server-using-r.html"><a href="setting-up-a-static-server-using-r.html#starting-the-server"><i class="fa fa-check"></i><b>I.4</b> Starting the server</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://bookdown.org/" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="index-2.html">Introduction to Web Mapping</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="databases" class="section level1" number="9">
<h1><span class="header-section-number">Chapter 9</span> Databases</h1>
<p><i>Last updated: 2021-08-24 14:54:59 </i></p>
<div id="introduction-databases" class="section level2" number="9.1">
<h2><span class="header-section-number">9.1</span> Introduction</h2>
<p>In Chapters <a href="geojson-1.html#geojson-1">7</a>–<a href="symbology-and-interactivity.html#symbology-and-interactivity">8</a>, the foreground layers we displayed on Leaflet web maps came from GeoJSON files stored on the server. This is a viable approach when our data are relatively small and not constantly updated. When this is not the case, however, using GeoJSON files can become limiting.</p>
<p>For example, loading layers from GeoJSON files becomes prohibitive when files get too large, because the entire file needs to be transferred through the network, even if we only want to display <em>some</em> of the content, for example by subsetting the layer in the JavaScript code after it has been received. It is obviously unreasonable to have the user wait until tens or hundreds of megabytes are being received, in the meanwhile seeing an empty map. Processing very large amounts of data can also make the browser unresponsive. A natural solution is to use a <strong>database</strong>. Unlike a file, a database can be queried to request just the minimal required portion of information each time, thus making sure that we are transferring and processing manageable amounts of data.</p>
<p>Another limitation of using GeoJSON files becomes apparent when the data are constantly updated and/or used for different purposes rather than just being displayed on a particular web map. For example, we may wish to build a web map displaying real-time municipal events, which means the data are constantly <strong>updated</strong> or edited (e.g., by the municipality staff) and/or used in various contexts (e.g., examined in GIS software by other professionals). Again, a natural solution is to use a database, shared between numerous concurrent connections for viewing and editing the data, through many types of different interfaces. Our web map, making use of one such concurrent connection, will therefore be synchronized with the database so that the displayed information is always up-to-date.</p>
<p>This chapter (Chapter <a href="databases.html#databases">9</a>) and the next two (Chapters <a href="non-spatial-queries-1.html#non-spatial-queries-1">10</a>–<a href="spatial-queries-1.html#spatial-queries-1">11</a>) introduce the idea of loading data from a <strong>spatial database</strong> to display them on an interactive map, while dynamically filtering the data to transfer just the portion that we need. That way, we are freed from the limitation regarding the amount of data “behind” the web map. In other words, the database that stands behind our web map can be very large in size, yet the web map will stay responsive, thanks to the fact that we load subsets of the data each time, based on what the user chooses to see. In this chapter (Chapter <a href="databases.html#databases">9</a>), we introduce the concepts and technologies that enable a Leaflet map to load data from a spatial database. In the next two chapters, we go through examples of using non-spatial (Chapter <a href="non-spatial-queries-1.html#non-spatial-queries-1">10</a>) and spatial (Chapter <a href="spatial-queries-1.html#spatial-queries-1">11</a>) database queries for loading subsets of data from a database.</p>
<p>It should be mentioned that <strong>Web Map Services (WMS)</strong> (Section <a href="leaflet.html#other-layer-types">6.6.5</a>) comprise an alternative solution for displaying large, up-to-date amounts of data on a web map, however this solution is beyond the scope of this book. In short, with a WMS we are using a GIS database to build on-demand raster tiles. The server generates custom tiles based on the parameters it is given, so that the user has control of the displayed content, such as choosing which layers to display. This is unlike pre-compiled tile datasets, such as those introduced in Section <a href="leaflet.html#what-are-tile-layers">6.5.10</a> and used as base layers in the examples in Chapters <a href="leaflet.html#leaflet">6</a>–<a href="symbology-and-interactivity.html#symbology-and-interactivity">8</a>, since pre-compiled tiles are fixed and cannot be dynamically modified based on user input.</p>
<p>There are valid use cases for both the database and WMS approaches. Basically, the database approach works better when loading vector layers that the user interacts with, which is made possible by the fact that the server can send raw data (such as GeoJSON), and we can control the way that data are displayed on the client, using JavaScript code. The WMS approach works better when our data are very complex and have elaborate symbology. In such cases, it makes sense to have a dedicated map server with specialized software to build raster images with the displayed content, and send them to the client to be displayed as-is<a href="#fn87" class="footnote-ref" id="fnref87"><sup>87</sup></a>.</p>
</div>
<div id="what-is-carto" class="section level2" number="9.2">
<h2><span class="header-section-number">9.2</span> What is CARTO?</h2>
<div id="the-carto-platform" class="section level3" number="9.2.1">
<h3><span class="header-section-number">9.2.1</span> The CARTO platform</h3>
<p>A problem that immediately arises regarding retrieval of spatial data from a database onto a web map is that client-side scripts cannot directly connect to a database. A dynamic server, which we mentioned in Section <a href="web-servers-1.html#dynamic-servers">5.4.3</a>, is the solution to this problem. On the dynamic server, server-side scripts, which indeed <em>can</em> connect to the database, are used to query the database and send the data back to the client. In fact, the need to send information from a database to the browser is one of the main motives for setting up a dynamic server. </p>
<p>In this book, we focus on client-side solutions, so we will not be dealing with setting up our own dynamic server coupled with a database. Instead, we will use a cloud-based service by a company called <a href="https://carto.com/"><strong>CARTO</strong></a>. The CARTO platform provides several cloud computing GIS and web-mapping services. One of the most notable services, and the one we are going to use in this book, is the <strong>SQL API</strong> (Section <a href="databases.html#the-carto-sql-api">9.7</a>). CARTO allows you to upload your own data into a managed spatial database, while CARTO’s SQL API allows you to interact with that database. In other words, CARTO takes care of setting up and maintaining a spatial database, as well as setting up server-side components to make that database reachable through HTTP.</p>
<p><img src="images/logo_carto.svg" style="height: 75px"></p>
<p>In this chapter, we will introduce the CARTO platform and the technologies it is based on: databases (Section <a href="databases.html#databases-1">9.3</a>) and spatial databases (Section <a href="databases.html#spatial-databases">9.4</a>), PostGIS (Section <a href="databases.html#what-is-postgis">9.5</a>), SQL (Section <a href="databases.html#what-is-sql">9.6</a>), and the SQL API (Section <a href="databases.html#the-carto-sql-api">9.7</a>). Towards the end of the chapter, we will see how CARTO can be used for querying and displaying data from a database on a Leaflet map (Section <a href="databases.html#carto-and-leaflet">9.8</a>). In the next two chapters, we will dig a little deeper into different types of queries and their utilization in web mapping. In Chapter <a href="non-spatial-queries-1.html#non-spatial-queries-1">10</a>, we will see an example of non-spatial, attribute-based filtering of data, based on user input from a dropdown menu. In Chapter <a href="spatial-queries-1.html#spatial-queries-1">11</a>, we will see an example of using spatial queries to retrieve data based on proximity to a clicked location.</p>
</div>
<div id="alternatives-to-carto" class="section level3" number="9.2.2">
<h3><span class="header-section-number">9.2.2</span> Alternatives to CARTO</h3>
<p>CARTO is a commercial service that comes at a <a href="https://carto.com/pricing/">price</a>, though at the time of writing there is a free plan for trying CARTO for 12 months. It is worth mentioning that the CARTO platform is <a href="https://github.com/CartoDB/cartodb"><strong>open-source</strong></a>. In principle, it can be installed on any computer to replicate <a href="https://gis.stackexchange.com/questions/269822/cartodb-opensource-vs-paid-one">almost</a> the entire functionality of CARTO for free. The installation and maintenance are quite complicated though.</p>
<p>A minimal alternative to CARTO, comprising a simple dynamic server, a database, and an SQL API can be set up (relatively) more easily. The online version of the book (Section <a href="index.html#online-version">0.7</a>) includes an additional supplement with <a href="setting-up-an-sql-api.html" href="_blank.html">instructions</a> for one way to do that, using <strong>Node.js</strong> and <strong>PostgreSQL/PostGIS</strong>. This is beyond the scope of the main text of the book, but it is important to be aware that no matter how convenient CARTO is, if some day we need to cut costs and manage our own server for the tasks covered in the following chapters—it can be done. Accordingly, all examples where a CARTO database is used are also given in alternative versions, using the custom SQL API setup instead of CARTO. The latter are marked with <code>-s</code>, as in <code>example-09-01.html</code> and <code>example-09-01-s.html</code> (Appendix <a href="list-of-examples.html#list-of-examples">B</a>).</p>
</div>
</div>
<div id="databases-1" class="section level2" number="9.3">
<h2><span class="header-section-number">9.3</span> Databases</h2>
<p>The term <a href="https://en.wikipedia.org/wiki/Database"><strong>database</strong></a> describes an organized collection of data. A database stores data, but also facilitates indexing, searching, and querying the data, as well as modifying and adding new data. The most established and commonly used databases follow the <a href="https://en.wikipedia.org/wiki/Relational_database"><strong>relational model</strong></a>, where the records are organized in tables, and the tables are usually associated with one another via common columns.</p>
<p>For example, Figure <a href="databases.html#fig:relational-database-example">9.1</a> shows a small hypothetical database with two tables named <code>airports</code> and <code>flights</code>. The airports table gives the <code>name</code> and location (<code>lon</code>, <code>lat</code>) of seven different airports. The <code>flights</code> table lists the departure time (<code>year</code>, <code>month</code>, <code>day</code>, <code>dep_time</code>), the origin (<code>origin</code>), and the destination (<code>dest</code>) of five different flights that took place between the airports listed in the <code>airports</code> table on a particular day. Importantly, the <code>airports</code> and <code>flights</code> tables are related through the <em>airport code</em> column <code>faa</code> in the <code>airports</code> table matching the <code>origin</code> and <code>dest</code> columns in the <code>flights</code> table.</p>
<div class="figure" style="text-align: center"><span id="fig:relational-database-example"></span>
<img src="images/relational_database_example2.png" alt="An example of a relational database with two tables" width="85%" />
<p class="caption">
FIGURE 9.1: An example of a relational database with two tables
</p>
</div>
<p>Relational database queries, including both “ordinary” (Section <a href="databases.html#non-spatial-queries">9.6.2</a>) and spatial (Sections <a href="databases.html#the-geometry-column">9.6.3</a>–<a href="databases.html#spatial-queries">9.6.4</a>) queries, are expressed in a language called SQL (Section <a href="databases.html#what-is-sql">9.6</a>).</p>
</div>
<div id="spatial-databases" class="section level2" number="9.4">
<h2><span class="header-section-number">9.4</span> Spatial databases</h2>
<p>A <a href="https://en.wikipedia.org/wiki/Spatial_database"><strong>spatial database</strong></a> is a database that is optimized to store and query data that represents objects defined in a geometric space. Regarding the <em>storage</em> part, plainly speaking, the tables in a spatial database have a special type of <strong>geometry column</strong>, which holds the geometric component of that specific record, i.e., the geometry type and the coordinates. This may sound familiar—recall that geometry GeoJSON types (Section <a href="geojson-1.html#geometries">7.3.2</a>), which represent just the geometric part of a feature, consist of two properties: <code>"type"</code> and <code>"coordinates"</code>. The similarity between the geometry column and the GeoJSON geometry types in not incidental, but due to the fact that both are based on the Simple Features standard, which we mentioned in Section <a href="geojson-1.html#overview-geojson">7.3.1</a>. The difference is that in a spatial database, the geometries are usually encoded in a format called <strong>Well-Known Binary (WKB)</strong>, a binary version of the Well-Known Text (WKT) format (which we mentioned in Section <a href="geojson-1.html#overview-geojson">7.3.1</a>), rather than in the GeoJSON format.</p>
<p>In addition to geometry storage, spatial databases define special functions that allow for queries based on <em>geometry</em>. This means we can use the database to make spatial numeric calculations (e.g., geographical distance; Sections <a href="spatial-queries-1.html#geographical-distance">11.3.2</a>–<a href="spatial-queries-1.html#sphere-vs-spheroid">11.3.3</a>), retrieve data based on location (e.g., K-nearest neighbors; Section <a href="spatial-queries-1.html#geographical-distance">11.3.2</a>), or create new geometries (e.g., calculating the centroid of a geometry). These are called <strong>spatial queries</strong> (Section <a href="databases.html#spatial-queries">9.6.4</a>), since they involve the spatial component of the database, i.e., the geometry column of at least one table. The concept is very similar to spatial operators and functions used in GIS software, such as the <a href="http://desktop.arcgis.com/en/arcmap/10.3/map/working-with-layers/using-select-by-location.htm"><em>Select by Location</em></a> tool in ArcGIS.</p>
<p>Commonly used open-source spatial databases include <strong>PostgreSQL/PostGIS</strong> (used by CARTO; see Section <a href="databases.html#what-is-postgis">9.5</a> below), <a href="https://en.wikipedia.org/wiki/SpatiaLite"><strong>SQLite/SpatiaLite</strong></a>, and <a href="https://dev.mysql.com/doc/refman/8.0/en/spatial-types.html"><strong>MySQL</strong></a>. There are also proprietary databases that support spatial data, such as <a href="https://en.wikipedia.org/wiki/Oracle_Spatial_and_Graph"><strong>Oracle Spatial</strong></a> and <a href="https://docs.microsoft.com/en-us/sql/relational-databases/spatial/spatial-data-sql-server"><strong>Microsoft SQL server</strong></a>.</p>
</div>
<div id="what-is-postgis" class="section level2" number="9.5">
<h2><span class="header-section-number">9.5</span> What is PostGIS?</h2>
<p><a href="https://en.wikipedia.org/wiki/PostGIS"><strong>PostGIS</strong></a> is a popular extension for the <a href="https://en.wikipedia.org/wiki/PostgreSQL"><strong>PostgreSQL</strong></a> database, making the PostgreSQL/PostGIS combination a spatial database <span class="citation">(<a href="#ref-obe2020postgis" role="doc-biblioref">Obe and Hsu 2020</a>)</span>. In other words, a PostgreSQL database with the PostGIS extension enabled allows for storage of spatial data and execution of spatial SQL queries (Section <a href="databases.html#spatial-queries">9.6.4</a>). At the moment, the PostgreSQL/PostGIS combination<a href="#fn88" class="footnote-ref" id="fnref88"><sup>88</sup></a> makes the most powerful open-source spatial database available.</p>
<p>Since both PostgreSQL and PostGIS are free and open-source, you can install PostGIS on your computer and set up your own database. However, running a database requires some advanced setup and maintenance, which is outside the scope of this book<a href="#fn89" class="footnote-ref" id="fnref89"><sup>89</sup></a>. As mentioned previously, the CARTO platform provides a cloud-based PostGIS database as a service, which we are going to use in this book.</p>
</div>
<div id="what-is-sql" class="section level2" number="9.6">
<h2><span class="header-section-number">9.6</span> What is SQL?</h2>
<div id="overview-sql" class="section level3" number="9.6.1">
<h3><span class="header-section-number">9.6.1</span> Overview</h3>
<p><a href="https://en.wikipedia.org/wiki/SQL"><strong>SQL</strong></a> is a language for writing statements to query or to modify tables stored in a relational database, whether spatial or non-spatial. Using SQL, you can perform many types of tasks: filtering, joining, inserting new data, updating existing data, etc. SQL statements can be executed in many types of database <strong>interfaces</strong>, from command lines interfaces, through database administrator consoles in GIS software, and to APIs that connect to the database through HTTP—such as the CARTO SQL API, which we are going to use (Section <a href="databases.html#the-carto-sql-api">9.7</a>). You may already be familiar with SQL syntax from GIS software, such as <a href="http://pro.arcgis.com/en/pro-app/help/mapping/navigation/sql-reference-for-elements-used-in-query-expressions.htm"><strong>ArcGIS</strong></a> and <a href="https://docs.qgis.org/2.8/en/docs/user_manual/working_with_vector/query_builder.html"><strong>QGIS</strong></a>, where SQL can be used to select features from a spatial layer. </p>
<p>Using CARTO, we will experiment with writing SQL queries to extract data from a cloud-based database (Section <a href="databases.html#the-carto-sql-api">9.7</a>) and to display these data on Leaflet map (Section <a href="databases.html#carto-and-leaflet">9.8</a>). That way, we will become familiar with the whole idea of querying spatial databases, from the web-mapping perspective. Hopefully, this introduction will be of use if, later on, you decide to go deeper into the subject and set up a spatial database on your own (Section <a href="databases.html#alternatives-to-carto">9.2.2</a>). </p>
<p>SQL, as you can imagine, is a very large topic <span class="citation">(<a href="#ref-nield2016getting" role="doc-biblioref">Nield 2016</a>; <a href="#ref-debarros2018practical" role="doc-biblioref">DeBarros 2018</a>)</span>. The syntax of SQL is not the focus of this book, so we will not go deeply into details nor will we cover the whole range of query types that can be used for various tasks. In the following Chapters <a href="non-spatial-queries-1.html#non-spatial-queries-1">10</a>–<a href="spatial-queries-1.html#spatial-queries-1">11</a>, we will only encounter about ~5-6 relatively simple types of SQL queries, most of which are briefly introduced below (Sections <a href="databases.html#non-spatial-queries">9.6.2</a>–<a href="databases.html#spatial-queries">9.6.4</a>). This set of SQL queries will be enough for our purposes, and you will be able to modify the code to apply the same type of queries to different data, even if you have never used SQL before. </p>
<p>In the following examples (Sections <a href="databases.html#non-spatial-queries">9.6.2</a>–<a href="databases.html#spatial-queries">9.6.4</a>), we will demonstrate several types of SQL queries on a database that contains just one table, a table named <code>plants</code>. The <code>plants</code> table contains rare plant observations in Israel<a href="#fn90" class="footnote-ref" id="fnref90"><sup>90</sup></a>. Each row in the <code>plants</code> table represents an individual observation of a rare plant species. The table has different columns describing each observation, such as: </p>
<ul>
<li><code>id</code>—Observation ID</li>
<li><code>name_lat</code>—Latin species name</li>
<li><code>obsr_date</code>—Observation date</li>
<li><code>geometry</code>—The location; this column is the <strong>geometry column</strong> (Section <a href="databases.html#spatial-databases">9.4</a>)</li>
</ul>
<p>The query examples are just for illustration and are not meant to be replicated in a console or command line, since we are not setting up our own database. However, shortly you will be able to execute them through the CARTO platform (Section <a href="databases.html#the-carto-sql-api">9.7</a>). </p>
</div>
<div id="non-spatial-queries" class="section level3" number="9.6.2">
<h3><span class="header-section-number">9.6.2</span> Non-spatial queries</h3>
<p>The most basic SQL statement is the <code>SELECT</code> statement. A <code>SELECT</code> statement pulls data from a table, possibly filtered on various criteria and supplemented with new columns resulting from table joins or transformations. For example, we can use the following <code>SELECT</code> query to get a subset of the <code>plants</code> table, with just three of its columns: <code>id</code>, <code>name_lat</code> and <code>obsr_date</code>. The table is also filtered, to include only those rows where the Latin species name is equal to the specific value <code>'Anticharis glandulosa'</code>: </p>
<div class="sourceCode" id="cb309"><pre class="sourceCode sql"><code class="sourceCode sql"><span id="cb309-1"><a href="databases.html#cb309-1" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span> <span class="kw">id</span>, name_lat, obsr_date </span>
<span id="cb309-2"><a href="databases.html#cb309-2" aria-hidden="true" tabindex="-1"></a>  <span class="kw">FROM</span> plants </span>
<span id="cb309-3"><a href="databases.html#cb309-3" aria-hidden="true" tabindex="-1"></a>  <span class="kw">WHERE</span> name_lat <span class="op">=</span> <span class="st">&#39;Anticharis glandulosa&#39;</span>;</span></code></pre></div>
<p>By convention, SQL keywords are written in uppercase, while specific values—such as column names—are written in lowercase. This is not strictly required, as SQL is not case-sensitive, unlike JavaScript, for instance, which <em>is</em> case-sensitive. Spaces and line breaks are ignored in SQL, like in JavaScript. The query ends with the <code>;</code> symbol.</p>
<p>Note the way that the query is structured. The queried column names are listed after the <code>SELECT</code> keyword, the table name is specified after <code>FROM</code>, and the condition for filtering returned records is constructed after the <code>WHERE</code> keyword. In this example, the condition <code>name_lat='Anticharis glandulosa'</code> means “return all records (rows) where the value of <code>name_lat</code> is equal to <code>'Anticharis glandulosa'</code>.”</p>
<p>If we had access to a PostGIS database with the <code>plants</code> table and could type the above SQL query through its command line interface (called <a href="http://postgresguide.com/utilities/psql.html"><strong>psql</strong></a>), the following textual printout with the query result would appear in the command line<a href="#fn91" class="footnote-ref" id="fnref91"><sup>91</sup></a>: </p>
<pre class="text"><code>   id   |       name_lat        | obsr_date
--------+-----------------------+------------
 339632 | Anticharis glandulosa | 1988-03-18
 359135 | Anticharis glandulosa | 2012-12-15
 367327 | Anticharis glandulosa | 2012-12-15
(3 rows)</code></pre>
<p>According to the result, we can tell that there are only three observations of <code>'Anticharis glandulosa'</code> in the <code>plants</code> table. Note that the last line is not part of the result, but only specifies the number of returned rows.</p>
</div>
<div id="the-geometry-column" class="section level3" number="9.6.3">
<h3><span class="header-section-number">9.6.3</span> The geometry column</h3>
<p>As mentioned in Section <a href="databases.html#spatial-databases">9.4</a>, the distinctive feature of a spatial database is that its tables may contain a geometry column. The values in the geometry column specify the spatial locations of the respective database records (i.e., the table rows). The geometry column usually contains binary code, which is an encoded version of the Well-Known Text (WKT) format, known as Well-Known Binary (WKB). The binary compression is conventionally used to reduce the required storage space for the database. </p>
<p>For example, the geometry column in our <code>plants</code> table is named <code>geometry</code>. The following query returns the contents of three columns from the <code>plants</code> table, the “ordinary” <code>id</code> and <code>name_lat</code> columns, as well as the geometry column named <code>geometry</code>. The query is also limited to the first five records, with the <code>LIMIT 5</code> part: </p>
<div class="sourceCode" id="cb311"><pre class="sourceCode sql"><code class="sourceCode sql"><span id="cb311-1"><a href="databases.html#cb311-1" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span> <span class="kw">id</span>, name_lat, geometry </span>
<span id="cb311-2"><a href="databases.html#cb311-2" aria-hidden="true" tabindex="-1"></a>  <span class="kw">FROM</span> plants </span>
<span id="cb311-3"><a href="databases.html#cb311-3" aria-hidden="true" tabindex="-1"></a>  <span class="kw">LIMIT</span> <span class="dv">5</span>;</span></code></pre></div>
<p>Here is the printout we would see on the command line in this case: </p>
<pre class="text"><code>   id   |    name_lat    |                  geometry
--------+----------------+--------------------------------------------
 321432 | Iris haynei    | 0101000000520C906802D741400249D8B793624040
 321433 | Iris haynei    | 0101000000D235936FB6D34140C6151747E55E4040
 321456 | Iris atrofusca | 01010000001590F63FC0984140EDB60BCD75723F40
 321457 | Iris atrofusca | 0101000000672618CE35984140357C0BEBC6833F40
 321459 | Iris vartanii  | 0101000000E6B0FB8EE19141405D6E30D461793F40
(5 rows)</code></pre>
<p>It is evident the WKB strings in the <code>geometry</code> column make no sense to the human eye. However, WKB can always be converted to its textual counterpart <strong>WKT</strong>, using the <code>ST_AsText</code> operator, as demonstrated in the following, slightly modified, version of the above SQL query: </p>
<div class="sourceCode" id="cb313"><pre class="sourceCode sql"><code class="sourceCode sql"><span id="cb313-1"><a href="databases.html#cb313-1" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span> <span class="kw">id</span>, name_lat, ST_AsText(geometry) <span class="kw">AS</span> geom </span>
<span id="cb313-2"><a href="databases.html#cb313-2" aria-hidden="true" tabindex="-1"></a>  <span class="kw">FROM</span> plants </span>
<span id="cb313-3"><a href="databases.html#cb313-3" aria-hidden="true" tabindex="-1"></a>  <span class="kw">LIMIT</span> <span class="dv">5</span>;</span></code></pre></div>
<p>In the modified query, we replaced the <code>geometry</code> part with <code>ST_AsText(geometry)</code>, thus <em>transforming</em> the column from WKB to WKT. The <code>AS geom</code> part is used to rename the new column to <code>geom</code> (otherwise it would get a default name such as <code>st_astext</code>). Here is the resulting table, with the geometry column transformed to its WKT representation and renamed to <code>geom</code>:</p>
<pre class="text"><code>   id   |    name_lat    |            geom
--------+----------------+----------------------------
 321432 | Iris haynei    | POINT(35.679761 32.770133)
 321433 | Iris haynei    | POINT(35.654005 32.741372)
 321456 | Iris atrofusca | POINT(35.193367 31.44711)
 321457 | Iris atrofusca | POINT(35.189142 31.514754)
 321459 | Iris vartanii  | POINT(35.139696 31.474149)
(5 rows)</code></pre>
<p>Similarly, we can convert the WKB geometry column to <strong>GeoJSON</strong>, which we are familiar with from Chapter <a href="geojson-1.html#geojson-1">7</a>. To do that, we simply use the <code>ST_AsGeoJSON</code> function instead of the <code>ST_AsText</code> function, as follows:</p>
<div class="sourceCode" id="cb315"><pre class="sourceCode sql"><code class="sourceCode sql"><span id="cb315-1"><a href="databases.html#cb315-1" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span> <span class="kw">id</span>, name_lat, ST_AsGeoJSON(geometry) <span class="kw">AS</span> geom </span>
<span id="cb315-2"><a href="databases.html#cb315-2" aria-hidden="true" tabindex="-1"></a>  <span class="kw">FROM</span> plants </span>
<span id="cb315-3"><a href="databases.html#cb315-3" aria-hidden="true" tabindex="-1"></a>  <span class="kw">LIMIT</span> <span class="dv">5</span>;</span></code></pre></div>
<p>Here is the result, with the geometry column now given in the GeoJSON format:</p>
<pre><code>   id   |    name_lat    |                         geom
--------+----------------+------------------------------------------------------
 321432 | Iris haynei    | {&quot;type&quot;:&quot;Point&quot;,&quot;coordinates&quot;:[35.679761,32.770133]}
 321433 | Iris haynei    | {&quot;type&quot;:&quot;Point&quot;,&quot;coordinates&quot;:[35.654005,32.741372]}
 321456 | Iris atrofusca | {&quot;type&quot;:&quot;Point&quot;,&quot;coordinates&quot;:[35.193367,31.44711]}
 321457 | Iris atrofusca | {&quot;type&quot;:&quot;Point&quot;,&quot;coordinates&quot;:[35.189142,31.514754]}
 321459 | Iris vartanii  | {&quot;type&quot;:&quot;Point&quot;,&quot;coordinates&quot;:[35.139696,31.474149]}
(5 rows)</code></pre>
<p>Examining either one of the last two query results, we can tell that the the <code>plants</code> table—or at least its first five records—contains geometries of type <code>"Point"</code> (Table <a href="geojson-1.html#tab:geojson-single-part1">7.2</a>).</p>
</div>
<div id="spatial-queries" class="section level3" number="9.6.4">
<h3><span class="header-section-number">9.6.4</span> Spatial queries</h3>
<p>The geometry column can be used to apply <strong>spatial operators</strong> on our table, just like in GIS software. Much like general SQL (shown previously), the syntax of spatial SQL queries is a very large topic <span class="citation">(<a href="#ref-obe2020postgis" role="doc-biblioref">Obe and Hsu 2020</a>)</span>, and mostly beyond the scope of this book. In Chapter <a href="spatial-queries-1.html#spatial-queries-1">11</a> we will experiment with just one type of a spatial query, which returns the <em>nearest</em> records from a given point. </p>
<p>For example, the following spatial query returns the nearest five observations from the <code>plants</code> table based on distance to the specific point <code>[34.810696, 31.895923]</code> (as in <code>[lon, lat]</code>). Plainly speaking, this SQL query <em>sorts</em> the entire <code>plants</code> table by decreasing proximity of all geometries to <code>[34.810696, 31.895923]</code>, then the top five records are returned:</p>
<div class="sourceCode" id="cb317"><pre class="sourceCode sql"><code class="sourceCode sql"><span id="cb317-1"><a href="databases.html#cb317-1" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span> <span class="kw">id</span>, name_lat, ST_AsText(geometry) <span class="kw">AS</span> geom </span>
<span id="cb317-2"><a href="databases.html#cb317-2" aria-hidden="true" tabindex="-1"></a>  <span class="kw">FROM</span> plants </span>
<span id="cb317-3"><a href="databases.html#cb317-3" aria-hidden="true" tabindex="-1"></a>  <span class="kw">ORDER</span> <span class="kw">BY</span> </span>
<span id="cb317-4"><a href="databases.html#cb317-4" aria-hidden="true" tabindex="-1"></a>    geometry:<span class="ch">:geography</span> <span class="op">&lt;-&gt;</span> </span>
<span id="cb317-5"><a href="databases.html#cb317-5" aria-hidden="true" tabindex="-1"></a>    ST_SetSRID(</span>
<span id="cb317-6"><a href="databases.html#cb317-6" aria-hidden="true" tabindex="-1"></a>      ST_MakePoint(<span class="fl">34.810696</span>, <span class="fl">31.895923</span>), <span class="dv">4326</span></span>
<span id="cb317-7"><a href="databases.html#cb317-7" aria-hidden="true" tabindex="-1"></a>    ):<span class="ch">:geography</span></span>
<span id="cb317-8"><a href="databases.html#cb317-8" aria-hidden="true" tabindex="-1"></a>  <span class="kw">LIMIT</span> <span class="dv">5</span>;</span></code></pre></div>
<p>The selection of top five records is done using the <code>LIMIT 5</code> part. The spatial operators part comes after the <code>ORDER BY</code> keyword, where we calculate all distances from <code>plants</code> points to a specific point <code>[34.810696, 31.895923]</code>, and use those distances to sort the table. We will elaborate on this part in Chapter <a href="spatial-queries-1.html#spatial-queries-1">11</a>. Here is the result, with the five nearest observations to <code>[34.810696, 31.895923]</code>: </p>
<pre class="text"><code>   id   |       name_lat       |            geom
--------+----------------------+----------------------------
 341210 | Lavandula stoechas   | POINT(34.808564 31.897377)
 368026 | Bunium ferulaceum    | POINT(34.808504 31.897328)
 332743 | Bunium ferulaceum    | POINT(34.808504 31.897328)
 328390 | Silene modesta       | POINT(34.822295 31.900125)
 360546 | Corrigiola litoralis | POINT(34.825931 31.900792)
(5 rows)</code></pre>
<p>For more information, Chapter 7 in the <em>Introduction to Data Technologies</em> book <span class="citation">(<a href="#ref-murrell2009introduction" role="doc-biblioref">Murrell 2009</a>)</span> gives a good introduction to (non-spatial) SQL. The <a href="https://www.w3schools.com/sql/"><em>W3Schools SQL Tutorial</em></a> can also be useful for quick reference of commonly used SQL commands. An introduction to spatial operators and PostGIS can be found in the official <a href="https://postgis.net/workshops/postgis-intro/"><em>Introduction to PostGIS</em></a> tutorial and in the <em>PostGIS in Action</em> book <span class="citation">(<a href="#ref-obe2020postgis" role="doc-biblioref">Obe and Hsu 2020</a>)</span>. </p>
</div>
</div>
<div id="the-carto-sql-api" class="section level2" number="9.7">
<h2><span class="header-section-number">9.7</span> The CARTO SQL API</h2>
<div id="api-usage" class="section level3" number="9.7.1">
<h3><span class="header-section-number">9.7.1</span> API usage</h3>
<p>The <a href="https://carto.com/developers/sql-api/"><strong>CARTO SQL API</strong></a> is an API for communication between a program that understands HTTP, such as the browser, and a PostGIS database hosted on the CARTO platform. The CARTO SQL API allows for users to send SQL queries to their PostGIS database on the CARTO platform. The queries are sent via HTTP (Section <a href="web-servers-1.html#communicating-through-http">5.3</a>), typically by making a <code>GET</code> request (Section <a href="web-servers-1.html#http-methods-get">5.3.2.2</a>) using a URL which includes the CARTO user name and the SQL query. The CARTO server processes the request and prepares the returned data, according to the SQL query applied on the particular user’s database. The result is then sent back, in a format of choice, such as <strong>CSV</strong>, <strong>JSON</strong> or <strong>GeoJSON</strong>. Importantly, the fact that the requests are made through HTTP means that we can send requests to the database, and get the responses, from client-side JavaScript code using Ajax (Section <a href="geojson-1.html#ajax">7.7</a>).</p>
<p>It is important to note that some types of queries other than <code>SELECT</code>, namely queries that modify our data, such as <code>INSERT</code>, require an <strong>API key</strong> as an additional parameter in our request. The API key serves as a password for making sensitive queries. Without this restriction, anyone who knows our username could make changes to our database, or even delete its entire contents. We will not be using this type of sensitive queries up until Section <a href="collaborative-mapping.html#setting-database-permissions">13.6.1</a>, where a method to hide the API key from the client and still be able to write to the database will be introduced.</p>
<p>The basic URL structure for sending a <code>GET</code> request to the CARTO SQL API looks like this:</p>
<pre class="text"><code>https://CARTO_USERNAME.carto.com/api/v2/sql?format=FORMAT&amp;q=SQL_STATEMENT</code></pre>
<p>where:</p>
<ul>
<li><code>CARTO_USERNAME</code> should be replaced with your CARTO <strong>user name</strong></li>
<li><code>FORMAT</code> should be replaced with the required <strong>format</strong></li>
<li><code>SQL_STATEMENT</code> should be replaced with the SQL <strong>query</strong></li>
</ul>
<p>Note that this is a special URL structure, which contains a <a href="https://en.wikipedia.org/wiki/Query_string"><strong>query string</strong></a>. A query string is used to send parameters to the server as part of the URL. The query string comes at the end of the URL, after the <code>?</code> symbol, with the parameters separated by <code>&amp;</code> symbols. In this case, the query string contains two parameters, <code>format</code> and <code>q</code>.</p>
<p>For example, here is a specific query: </p>
<pre class="text"><code>https://michaeldorman.carto.com/api/v2/sql?format=GeoJSON&amp;q=
SELECT id, name_lat, the_geom FROM plants LIMIT 2</code></pre>
<p>where:</p>
<ul>
<li><code>CARTO_USERNAME</code> was replaced with <code>michaeldorman</code></li>
<li><code>FORMAT</code> was replaced with <code>GeoJSON</code></li>
<li><code>SQL_STATEMENT</code> was replaced with <code>SELECT id, name_lat, the_geom FROM plants LIMIT 2</code></li>
</ul>
<p>Possible values for the <code>format</code> parameter include <code>JSON</code>, <code>GeoJSON</code>, and <code>CSV</code>. The default returned format is <code>JSON</code>, so to get your result returned in JSON you can omit the <code>format</code> parameter to get a slightly simplified URL:</p>
<pre class="text"><code>https://michaeldorman.carto.com/api/v2/sql?q=
SELECT id, name_lat, the_geom FROM plants LIMIT 2</code></pre>
<p>To get your results in a format other than JSON, such as GeoJSON or CSV, you need to explicitly specify the format, as in <code>format=GeoJSON</code> or <code>format=CSV</code>. Other possible formats include <code>GPKG</code>, <code>SHP</code>, <code>SVG</code>, <code>KML</code>, and <code>SpatiaLite</code><a href="#fn92" class="footnote-ref" id="fnref92"><sup>92</sup></a>. </p>
</div>
<div id="query-example" class="section level3" number="9.7.2">
<h3><span class="header-section-number">9.7.2</span> Query example</h3>
<p>The <code>plants</code> table used in the above SQL examples (Section <a href="databases.html#what-is-sql">9.6</a>) was already uploaded to a CARTO account named <code>michaeldorman</code>. We will query the database associated with this account to experiment with the CARTO SQL API.</p>
<p>Figure <a href="databases.html#fig:carto-plants-table">9.2</a> shows how the <code>plants</code> table appears on the CARTO web interface. Note the table name—<code>plants</code>, in the top-left corner—and column names—such as <code>id</code> and <code>name_lat</code>—which we referred to when constructing the SQL queries (Section <a href="databases.html#what-is-sql">9.6</a>). Importantly, note the geometry column—the one with the small <strong>GEO</strong> icon next to it—named <code>the_geom</code><a href="#fn93" class="footnote-ref" id="fnref93"><sup>93</sup></a>. We will shortly go over the procedure of uploading data to your own CARTO account (Section <a href="databases.html#uploading-your-data">9.7.3</a>).</p>
<div class="figure" style="text-align: center"><span id="fig:carto-plants-table"></span>
<img src="images/carto_plants_table.png" alt="The &lt;code&gt;plants&lt;/code&gt; table, as displayed in the CARTO web interface" width="100%" />
<p class="caption">
FIGURE 9.2: The <code>plants</code> table, as displayed in the CARTO web interface
</p>
</div>
<p>Let’s try to send a query to the CARTO SQL API to get some data, in the GeoJSON format, from the <code>plants</code> table. Paste the following query into the browser’s address bar:</p>
<pre class="text"><code>https://michaeldorman.carto.com/api/v2/sql?format=GeoJSON&amp;q=
SELECT id, name_lat, the_geom FROM plants LIMIT 2</code></pre>
<p>Since we specified <code>format=GeoJSON</code>, a GeoJSON file will be returned (Section <a href="databases.html#api-usage">9.7.1</a>). The query <code>q</code> was <code>SELECT id, name_lat, the_geom FROM plants LIMIT 2</code>, which means that we request the <code>id</code>, <code>name_lat</code> and <code>the_geom</code> columns from the <code>plants</code> table, limited to the first <code>2</code> records (Section <a href="databases.html#the-geometry-column">9.6.3</a>). As a result, the CARTO server takes the relevant information from the <code>plants</code> table and returns the following GeoJSON content<a href="#fn94" class="footnote-ref" id="fnref94"><sup>94</sup></a>: </p>
<div class="sourceCode" id="cb323"><pre class="sourceCode json"><code class="sourceCode json"><span id="cb323-1"><a href="databases.html#cb323-1" aria-hidden="true" tabindex="-1"></a><span class="fu">{</span></span>
<span id="cb323-2"><a href="databases.html#cb323-2" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;type&quot;</span><span class="fu">:</span> <span class="st">&quot;FeatureCollection&quot;</span><span class="fu">,</span></span>
<span id="cb323-3"><a href="databases.html#cb323-3" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;features&quot;</span><span class="fu">:</span> <span class="ot">[</span></span>
<span id="cb323-4"><a href="databases.html#cb323-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">{</span></span>
<span id="cb323-5"><a href="databases.html#cb323-5" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;type&quot;</span><span class="fu">:</span> <span class="st">&quot;Feature&quot;</span><span class="fu">,</span></span>
<span id="cb323-6"><a href="databases.html#cb323-6" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;geometry&quot;</span><span class="fu">:</span> <span class="fu">{</span></span>
<span id="cb323-7"><a href="databases.html#cb323-7" aria-hidden="true" tabindex="-1"></a>        <span class="dt">&quot;type&quot;</span><span class="fu">:</span> <span class="st">&quot;Point&quot;</span><span class="fu">,</span></span>
<span id="cb323-8"><a href="databases.html#cb323-8" aria-hidden="true" tabindex="-1"></a>        <span class="dt">&quot;coordinates&quot;</span><span class="fu">:</span> <span class="ot">[</span><span class="fl">35.032018</span><span class="ot">,</span> <span class="fl">32.800539</span><span class="ot">]</span></span>
<span id="cb323-9"><a href="databases.html#cb323-9" aria-hidden="true" tabindex="-1"></a>      <span class="fu">},</span></span>
<span id="cb323-10"><a href="databases.html#cb323-10" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;properties&quot;</span><span class="fu">:</span> <span class="fu">{</span></span>
<span id="cb323-11"><a href="databases.html#cb323-11" aria-hidden="true" tabindex="-1"></a>        <span class="dt">&quot;id&quot;</span><span class="fu">:</span> <span class="dv">345305</span><span class="fu">,</span></span>
<span id="cb323-12"><a href="databases.html#cb323-12" aria-hidden="true" tabindex="-1"></a>        <span class="dt">&quot;name_lat&quot;</span><span class="fu">:</span> <span class="st">&quot;Elymus elongatus&quot;</span></span>
<span id="cb323-13"><a href="databases.html#cb323-13" aria-hidden="true" tabindex="-1"></a>      <span class="fu">}</span></span>
<span id="cb323-14"><a href="databases.html#cb323-14" aria-hidden="true" tabindex="-1"></a>    <span class="fu">}</span><span class="ot">,</span></span>
<span id="cb323-15"><a href="databases.html#cb323-15" aria-hidden="true" tabindex="-1"></a>    <span class="fu">{</span></span>
<span id="cb323-16"><a href="databases.html#cb323-16" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;type&quot;</span><span class="fu">:</span> <span class="st">&quot;Feature&quot;</span><span class="fu">,</span></span>
<span id="cb323-17"><a href="databases.html#cb323-17" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;geometry&quot;</span><span class="fu">:</span> <span class="fu">{</span></span>
<span id="cb323-18"><a href="databases.html#cb323-18" aria-hidden="true" tabindex="-1"></a>        <span class="dt">&quot;type&quot;</span><span class="fu">:</span> <span class="st">&quot;Point&quot;</span><span class="fu">,</span></span>
<span id="cb323-19"><a href="databases.html#cb323-19" aria-hidden="true" tabindex="-1"></a>        <span class="dt">&quot;coordinates&quot;</span><span class="fu">:</span> <span class="ot">[</span><span class="fl">35.564703</span><span class="ot">,</span> <span class="fl">33.047197</span><span class="ot">]</span></span>
<span id="cb323-20"><a href="databases.html#cb323-20" aria-hidden="true" tabindex="-1"></a>      <span class="fu">},</span></span>
<span id="cb323-21"><a href="databases.html#cb323-21" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;properties&quot;</span><span class="fu">:</span> <span class="fu">{</span></span>
<span id="cb323-22"><a href="databases.html#cb323-22" aria-hidden="true" tabindex="-1"></a>        <span class="dt">&quot;id&quot;</span><span class="fu">:</span> <span class="dv">346805</span><span class="fu">,</span></span>
<span id="cb323-23"><a href="databases.html#cb323-23" aria-hidden="true" tabindex="-1"></a>        <span class="dt">&quot;name_lat&quot;</span><span class="fu">:</span> <span class="st">&quot;Galium chaetopodum&quot;</span></span>
<span id="cb323-24"><a href="databases.html#cb323-24" aria-hidden="true" tabindex="-1"></a>      <span class="fu">}</span></span>
<span id="cb323-25"><a href="databases.html#cb323-25" aria-hidden="true" tabindex="-1"></a>    <span class="fu">}</span></span>
<span id="cb323-26"><a href="databases.html#cb323-26" aria-hidden="true" tabindex="-1"></a>  <span class="ot">]</span></span>
<span id="cb323-27"><a href="databases.html#cb323-27" aria-hidden="true" tabindex="-1"></a><span class="fu">}</span></span></code></pre></div>
<p>This is a GeoJSON string of type <code>"FeatureCollection"</code> (Section <a href="geojson-1.html#feature-collections">7.3.4</a>). It contains two features with <code>"Point"</code> geometries, each having two non-spatial attributes: <code>id</code> and <code>name_lat</code>.</p>
<p>Remember that the geometry column <code>the_geom</code> needs to appear in the query whenever we export the result in a spatial format, such as <code>format=GeoJSON</code>. Otherwise, the server cannot generate the geometric part of the layer and we get an error. For example, omitting the <code>the_geom</code> column from the above query: </p>
<pre class="text"><code>https://michaeldorman.carto.com/api/v2/sql?format=GeoJSON&amp;q=
SELECT id, name_lat FROM plants LIMIT 2</code></pre>
<p>returns the following error message instead of the requested GeoJSON:</p>
<div class="sourceCode" id="cb325"><pre class="sourceCode json"><code class="sourceCode json"><span id="cb325-1"><a href="databases.html#cb325-1" aria-hidden="true" tabindex="-1"></a><span class="fu">{</span><span class="dt">&quot;error&quot;</span><span class="fu">:</span><span class="ot">[</span><span class="st">&quot;column </span><span class="ch">\&quot;</span><span class="st">the_geom</span><span class="ch">\&quot;</span><span class="st"> does not exist&quot;</span><span class="ot">]</span><span class="fu">}</span></span></code></pre></div>
<p>By the way, while pasting these URL examples into the browser, you may have noticed how the browser automatically <a href="https://en.wikipedia.org/wiki/Percent-encoding"><strong>encodes</strong></a> the URL into a format that can be transmitted over the Internet. This is something that happens automatically, and we do not need to worry about. For example, as part of URL encoding, spaces are converted to <code>%20</code>, so that the URL we typed above: </p>
<pre class="text"><code>https://michaeldorman.carto.com/api/v2/sql?format=GeoJSON&amp;q=
SELECT id, name_lat, the_geom FROM plants LIMIT 2</code></pre>
<p>becomes: </p>
<pre class="text"><code>https://michaeldorman.carto.com/api/v2/sql?format=GeoJSON&amp;q=
SELECT%20id,%20name_lat,%20the_geom%20FROM%20plants%20LIMIT%202</code></pre>
<p>Since the returned file is in the GeoJSON format, we can immediately import it into various spatial applications. For example, the file can be displayed and inspected in GIS software such as <strong>QGIS</strong> (Figure <a href="databases.html#fig:qgis-geojson-query">9.3</a>). If you are not using GIS software, you can still examine the GeoJSON file by importing it into the <strong>geojson.io</strong> web interface (Section <a href="geojson-1.html#geojson-io">7.4.1</a>). More importantly for our cause, the GeoJSON content can be instantly loaded in a Leaflet web map, as will be demonstrated next in Section <a href="databases.html#carto-and-leaflet">9.8</a>.</p>
<div class="figure" style="text-align: center"><span id="fig:qgis-geojson-query"></span>
<img src="images/qgis_geojson_query.png" alt="A GeoJSON file, obtained from the CARTO SQL API, displayed in QGIS" width="100%" />
<p class="caption">
FIGURE 9.3: A GeoJSON file, obtained from the CARTO SQL API, displayed in QGIS
</p>
</div>
<p>Exporting data in the JSON format is very similar to GeoJSON, but applicable for <em>non-spatial</em> queries that cannot be converted to GeoJSON. We will see a practical example of exporting JSON data from CARTO in Section <a href="non-spatial-queries-1.html#finding-unique-values">10.4.3</a>.</p>
<blockquote>
<ul>
<li>Try executing the non-spatial SQL query example from Section <a href="databases.html#non-spatial-queries">9.6.2</a> with the CARTO SQL API, using <strong>JSON</strong> as the export format.</li>
</ul>
</blockquote>
<p>Lastly, as an example of the <strong>CSV</strong> export format, try the following request to the SQL API:</p>
<pre class="text"><code>https://michaeldorman.carto.com/api/v2/sql?format=CSV&amp;q=
SELECT id, name_lat, obsr_date, ST_AsText(the_geom) AS geom 
FROM plants WHERE name_lat = &#39;Iris mariae&#39; LIMIT 3</code></pre>
<p>Note that we use the <code>format=CSV</code> parameter so that the result comes as a CSV file. CSV is a plain-text tabular format. Given the above query, the resulting CSV file contains the following text: </p>
<pre class="text"><code>id,     name_lat,    obsr_date,  geom
358449, Iris mariae, 2010-03-13, POINT(34.412502 31.019879)
359806, Iris mariae, 2015-03-08, POINT(34.713009 30.972615)
337260, Iris mariae, 2001-02-23, POINT(34.63678 30.92807)</code></pre>
<p>The CSV file can also be opened in a spreadsheet software such as <strong>Microsoft Excel</strong> or <strong>LibreOffice Calc</strong> (Figure <a href="databases.html#fig:carto-query-excel">9.4</a>)<a href="#fn95" class="footnote-ref" id="fnref95"><sup>95</sup></a>.</p>
<div class="figure" style="text-align: center"><span id="fig:carto-query-excel"></span>
<img src="images/carto_query_excel.png" alt="CSV file exported from the CARTO SQL API displayed in a spreadsheet software (LibreOffice Calc)\index{Comma-Separated Values (CSV)}" width="100%" />
<p class="caption">
FIGURE 9.4: CSV file exported from the CARTO SQL API displayed in a spreadsheet software (LibreOffice Calc)
</p>
</div>
</div>
<div id="uploading-your-data" class="section level3" number="9.7.3">
<h3><span class="header-section-number">9.7.3</span> Uploading your data</h3>
<p>Before we begin with connecting a Leaflet map with data from CARTO (Section <a href="databases.html#carto-and-leaflet">9.8</a>), you may want to experiment with your own account, possibly with different data instead of the <code>plants</code> table. Assuming you already signed up on <a href="https://carto.com/" class="uri">https://carto.com/</a> and have a CARTO account, the easiest way to upload data is the use the CARTO web interface, as follows:</p>
<ul>
<li>Go to <a href="https://carto.com/" class="uri">https://carto.com/</a> and log in to your account.</li>
<li>Once you are in your user’s home page, click on <strong>Data</strong> in the upper-left corner. This will show the different tables in your database on CARTO. For example, Figure <a href="databases.html#fig:carto-datasets-screen">9.5</a> shows the datasets page with three tables, named <code>beer_sheva</code>, <code>plants</code>, and <code>earthquake_sql</code>. This screen may be empty if you have just created a new CARTO account and have not uploaded any data yet.</li>
<li>Click on the <strong>New Dataset</strong> button in the top-right corner of the screen.</li>
<li>You will see different buttons for various methods of importing data. The simplest option is to upload a GeoJSON file. Choose the <strong>UPLOAD</strong> option in the upper ribbon, then click on the <strong>BROWSE</strong> button and navigate to your GeoJSON file. Finally, click on the <strong>CONNECT DATASET</strong> button (Figure <a href="databases.html#fig:carto-upload-screen">9.6</a>). You can upload the <a href="examples/data/plants.geojson" download><code>plants.geojson</code></a> file from the book materials (Section <a href="associated-files.html#associated-files">A</a>) into your own account to experiment with the same dataset as shown in the examples.</li>
<li>Once the file is uploaded, you should be able to see it as a new table in your list of datasets on CARTO. You can view the table in the CARTO web interface (Figure <a href="databases.html#fig:carto-plants-table">9.2</a>), and even edit its contents. For example, you can change the table name, rename any of the columns, edit cell contents, add new rows, etc.</li>
</ul>
<div class="figure" style="text-align: center"><span id="fig:carto-datasets-screen"></span>
<img src="images/carto_datasets_screen.png" alt="Datasets screen on CARTO" width="100%" />
<p class="caption">
FIGURE 9.5: Datasets screen on CARTO
</p>
</div>
<div class="figure" style="text-align: center"><span id="fig:carto-upload-screen"></span>
<img src="images/carto_upload_screen.png" alt="The file upload screen in the CARTO web interface\index{CARTO (platform)}" width="100%" />
<p class="caption">
FIGURE 9.6: The file upload screen in the CARTO web interface
</p>
</div>
<blockquote>
<ul>
<li>Upload any GeoJSON file other than <code>plants.gejson</code> to CARTO, then try to adapt the above SQL API queries to your own username, table name, and column names.</li>
<li>Test the new queries by pasting the respective URLs into the browser address bar and examining the returned results.</li>
</ul>
</blockquote>
</div>
</div>
<div id="carto-and-leaflet" class="section level2" number="9.8">
<h2><span class="header-section-number">9.8</span> CARTO and Leaflet</h2>
<p>We have just learned how to use the CARTO SQL API to send SQL queries to a CARTO database (Section <a href="databases.html#the-carto-sql-api">9.7</a>). Importantly, since we are working with a <em>spatial</em> database, one of the formats in which we can choose to get the returned results is GeoJSON (Section <a href="databases.html#query-example">9.7.2</a>). In this section, we will load a CARTO query result in a web page and display it on a Leaflet map. The method we are going to use for loading the query result is the <code>fetch</code> function, which we introduced in Section <a href="geojson-1.html#loading-geojson-files">7.8</a> and used in many of the examples in Chapters <a href="geojson-1.html#geojson-1">7</a>–<a href="symbology-and-interactivity.html#symbology-and-interactivity">8</a> when loading GeoJSON layers from files.</p>
<p>Our starting point is the basic map <code>example-06-02.html</code> from Section <a href="leaflet.html#adding-a-tile-layer">6.5.11</a>, with a modified initial map extent, as follows, so that the <code>plants</code> observations will be visible on page load:</p>
<div class="sourceCode" id="cb330"><pre class="sourceCode js"><code class="sourceCode javascript"><span id="cb330-1"><a href="databases.html#cb330-1" aria-hidden="true" tabindex="-1"></a><span class="kw">let</span> map <span class="op">=</span> L<span class="op">.</span><span class="fu">map</span>(<span class="st">&quot;map&quot;</span>)<span class="op">.</span><span class="fu">setView</span>([<span class="dv">32</span><span class="op">,</span> <span class="dv">35</span>]<span class="op">,</span> <span class="dv">8</span>)<span class="op">;</span></span></code></pre></div>
<p>Now, in order to load data from CARTO on the Leaflet map, we need to go through the following steps: </p>
<ul>
<li>Construct the URL to query the CARTO SQL API</li>
<li>Get the data from CARTO and add it on the map</li>
</ul>
<p>As the first step, we will construct the query URL. For convenience, the URL will be split in two parts: the fixed <strong>base URL</strong> prefix and the varying <strong>SQL query</strong> suffix. Combining both parts gives the complete URL, which we will use to retrieve data from the CARTO database. The fixed base URL, specific to a particular CARTO user, can be kept in a separate variable hereby named <code>url</code>. That way, we do not need to repeat it in each and every query we make in our script: </p>
<div class="sourceCode" id="cb331"><pre class="sourceCode js"><code class="sourceCode javascript"><span id="cb331-1"><a href="databases.html#cb331-1" aria-hidden="true" tabindex="-1"></a><span class="kw">let</span> url <span class="op">=</span> <span class="st">&quot;https://michaeldorman.carto.com/api/v2/sql?format=GeoJSON&amp;q=&quot;</span><span class="op">;</span></span></code></pre></div>
<p>Note that to make the code even more manageable you can split the base URL into two parts too, keeping the user name in a separate variable. That way, if we need to switch to a different CARTO account it is more clear which part of the code needs to be modified: </p>
<div class="sourceCode" id="cb332"><pre class="sourceCode js"><code class="sourceCode javascript"><span id="cb332-1"><a href="databases.html#cb332-1" aria-hidden="true" tabindex="-1"></a><span class="kw">let</span> carto_user <span class="op">=</span> <span class="st">&quot;michaeldorman&quot;</span><span class="op">;</span></span>
<span id="cb332-2"><a href="databases.html#cb332-2" aria-hidden="true" tabindex="-1"></a><span class="kw">let</span> url <span class="op">=</span> <span class="st">&quot;https://&quot;</span> <span class="op">+</span> carto_user <span class="op">+</span> <span class="st">&quot;.carto.com/api/v2/sql?format=GeoJSON&amp;q=&quot;</span><span class="op">;</span></span></code></pre></div>
<p>Either way, our next step is to define the varying SQL query part, used to retrieve data from the database according to a specific query. For example, we can use the following query, which returns the <code>name_lat</code> and <code>the_geom</code> columns for the first 25 records from the <code>plants</code> table: </p>
<div class="sourceCode" id="cb333"><pre class="sourceCode js"><code class="sourceCode javascript"><span id="cb333-1"><a href="databases.html#cb333-1" aria-hidden="true" tabindex="-1"></a><span class="kw">let</span> sqlQuery <span class="op">=</span> <span class="st">&quot;SELECT name_lat, the_geom FROM plants LIMIT 25&quot;</span><span class="op">;</span></span></code></pre></div>
<p>Remember that you need to include the geometry column in your query whenever the requested format is GeoJSON. Otherwise, the layer cannot be generated and we get an error (Section <a href="databases.html#query-example">9.7.2</a>). When the base URL and the SQL query are combined, using <code>url+sqlQuery</code>, we get the complete URL: </p>
<pre class="text"><code>https://michaeldorman.carto.com/api/v2/sql?format=GeoJSON&amp;q=
SELECT name_lat, the_geom FROM plants LIMIT 25</code></pre>
<p>The complete URL can be passed to <code>fetch</code> to load the resulting GeoJSON from CARTO on the Leaflet map:</p>
<div class="sourceCode" id="cb335"><pre class="sourceCode js"><code class="sourceCode javascript"><span id="cb335-1"><a href="databases.html#cb335-1" aria-hidden="true" tabindex="-1"></a><span class="fu">fetch</span>(url <span class="op">+</span> sqlQuery)</span>
<span id="cb335-2"><a href="databases.html#cb335-2" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">then</span>(<span class="kw">function</span>(response) {</span>
<span id="cb335-3"><a href="databases.html#cb335-3" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> response<span class="op">.</span><span class="fu">json</span>()<span class="op">;</span></span>
<span id="cb335-4"><a href="databases.html#cb335-4" aria-hidden="true" tabindex="-1"></a>    })</span>
<span id="cb335-5"><a href="databases.html#cb335-5" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">then</span>(<span class="kw">function</span>(data) {</span>
<span id="cb335-6"><a href="databases.html#cb335-6" aria-hidden="true" tabindex="-1"></a>        L<span class="op">.</span><span class="fu">geoJSON</span>(data<span class="op">,</span> {</span>
<span id="cb335-7"><a href="databases.html#cb335-7" aria-hidden="true" tabindex="-1"></a>            <span class="dt">onEachFeature</span><span class="op">:</span> <span class="kw">function</span>(feature<span class="op">,</span> layer) {</span>
<span id="cb335-8"><a href="databases.html#cb335-8" aria-hidden="true" tabindex="-1"></a>                layer<span class="op">.</span><span class="fu">bindPopup</span>(feature<span class="op">.</span><span class="at">properties</span><span class="op">.</span><span class="at">name_lat</span>)<span class="op">;</span></span>
<span id="cb335-9"><a href="databases.html#cb335-9" aria-hidden="true" tabindex="-1"></a>            }</span>
<span id="cb335-10"><a href="databases.html#cb335-10" aria-hidden="true" tabindex="-1"></a>        })<span class="op">.</span><span class="fu">addTo</span>(map)<span class="op">;</span></span>
<span id="cb335-11"><a href="databases.html#cb335-11" aria-hidden="true" tabindex="-1"></a>    })<span class="op">;</span> </span></code></pre></div>
<p>This code should be familiar from Chapters <a href="geojson-1.html#geojson-1">7</a>–<a href="symbology-and-interactivity.html#symbology-and-interactivity">8</a>. The primary function is <code>fetch</code>, which we use to make an Ajax <code>GET</code> request from another location on the internet (CARTO). Since the returned data are in the GeoJSON format (as specified with <code>format=GeoJSON</code>), the callback function of <code>.then</code> extracts its contents, as an object, using the <code>.json</code> method. Finally, in the second <code>.then</code>, we can use the <code>L.geoJSON</code> function to convert the GeoJSON object to a Leaflet GeoJSON layer. Using the <code>onEachFeature</code> option we are also binding specific popups (Section <a href="symbology-and-interactivity.html#constructing-popups-from-data">8.5</a>) for each feature to display the Latin name of the observed plant species. Finally, the layer is added on the map with the <code>.addTo</code> method. </p>
<p>The resulting map <code>example-09-01.html</code> is shown in Figure <a href="databases.html#fig:example-09-01">9.7</a>. Our data from CARTO, i.e., the first 25 plant observations, are loaded on the map! </p>
<div class="figure" style="text-align: center"><span id="fig:example-09-01"></span>
<iframe src="examples/example-09-01.html" width="100%" height="400px">
</iframe>
<p class="caption">
FIGURE 9.7: <code>example-09-01.html</code> <a href="examples/example-09-01.html" title="View the Example" target="_blank">(Click to view this example on its own)</a>
</p>
</div>
<blockquote>
<ul>
<li>Paste the above code section into the console of <code>example-09-01.html</code>.</li>
<li>Modify the SQL query (<code>sqlQuery</code>) to experiment with adding different observations on the map, according to the SQL examples shown in Section <a href="databases.html#what-is-sql">9.6</a>.</li>
<li>For example, you can replace the <code>LIMIT 25</code> part with a condition of the form <code>WHERE name_lat = '...'</code> to load all observations of a particular species (Section <a href="databases.html#non-spatial-queries">9.6.2</a>).</li>
</ul>
</blockquote>
<p>We have now covered the general principles of using the CARTO SQL API to display layers coming from a database on a Leaflet map. So far, however, what we did was not very different from loading a GeoJSON <em>file</em> on a map, like we did in Chapters <a href="geojson-1.html#geojson-1">7</a>–<a href="symbology-and-interactivity.html#symbology-and-interactivity">8</a>. The only difference is that the path to the GeoJSON file was a URL addressing the CARTO SQL API, rather than a local (Section <a href="geojson-1.html#loading-local-files">7.8.1</a>) or remote (Section <a href="geojson-1.html#loading-remote-files">7.8.2</a>) GeoJSON file. Still, the query was fixed, in the sense that exactly the same layer with 25 observations (Figure <a href="databases.html#fig:example-09-01">9.7</a>) will be displayed each time the page is loaded (unless the database itself is modified). </p>
<p>In the beginning of this chapter, we mentioned that one of the main reasons of using a database in web mapping is that we can display subsets of the data, filtered according to user input (Section <a href="databases.html#introduction-databases">9.1</a>). That way, we can have large amounts of data “behind” the web map, while maintaining responsiveness thanks to the fact that small portions of the data are transferred to the client each time. To fully exploit the advantages of connecting a database to a web map, in the next two Chapters <a href="non-spatial-queries-1.html#non-spatial-queries-1">10</a>–<a href="spatial-queries-1.html#spatial-queries-1">11</a> we will see examples where the SQL query is generated <em>dynamically</em>, in response to user input:</p>
<ul>
<li>In Chapter <a href="non-spatial-queries-1.html#non-spatial-queries-1">10</a>, we will load data according to an <em>attribute</em> value the user selects in a dropdown menu.</li>
<li>In Chapter <a href="spatial-queries-1.html#spatial-queries-1">11</a>, we will load data according to <em>spatial</em> proximity to a clicked location on the map.</li>
</ul>
</div>
<div id="exercise-09" class="section level2" number="9.9">
<h2><span class="header-section-number">9.9</span> Exercise</h2>
<ul>
<li>The following non-spatial SQL query returns the (sorted) species list from the <code>plants</code> table: <code>SELECT DISTINCT name_lat FROM plants ORDER BY name_lat</code>. When sending the latter query with <code>format=JSON</code>, the CARTO SQL API returns a JSON string with a property named <code>"rows"</code>, which is an array of obejcts of the form <code>{"name_lat":"Abutilon indicum"}</code>—one for each distinct species (see Section <a href="non-spatial-queries-1.html#finding-unique-values">10.4.3</a>).</li>
<li>Load the result of the query inside a web page, and use the <code>.rows</code> array to dynamically generate an unordered list (<code>&lt;ul&gt;</code>) of all unique plant species names in the <code>plants</code> table (Figure <a href="databases.html#fig:solution-09">9.8</a>).</li>
<li>Hint: use <code>example-04-06.html</code> from Section <a href="javascript-interactivity.html#modifying-page-based-on-data">4.11</a> (Figure <a href="javascript-interactivity.html#fig:example-04-06">4.7</a>), where we generated an unordered list based on an array, as a starting point for this exercise.</li>
</ul>
<div class="figure" style="text-align: center"><span id="fig:solution-09"></span>
<iframe src="examples/solution-09.html" width="100%" height="400px">
</iframe>
<p class="caption">
FIGURE 9.8: <code>solution-09.html</code> <a href="examples/solution-09.html" title="View the Example" target="_blank">(Click to view this example on its own)</a>
</p>
</div>

</div>
</div>
<h3>References</h3>
<div id="refs" class="references csl-bib-body hanging-indent">
<div id="ref-debarros2018practical" class="csl-entry">
DeBarros, Anthony. 2018. <em>Practical SQL: A Beginner’s Guide to Storytelling with Data</em>. San Francisco, CA, USA: No Starch Press.
</div>
<div id="ref-murrell2009introduction" class="csl-entry">
Murrell, Paul. 2009. <em>Introduction to Data Technologies</em>. Boca Raton, FL, USA: Chapman; Hall/CRC.
</div>
<div id="ref-nield2016getting" class="csl-entry">
Nield, Thomas. 2016. <em>Getting Started with SQL: A Hands-on Approach for Beginners</em>. Sebastopol, CA, USA: O’Reilly Media, Inc.
</div>
<div id="ref-obe2020postgis" class="csl-entry">
Obe, R, and L Hsu. 2020. <em>PostGIS in Action</em>. 3rd ed. Shelter Island, NY, USA.: Manning Publications Co.
</div>
</div>
<div class="footnotes">
<hr />
<ol start="87">
<li id="fn87"><p>There is an official tutorial on using <em>WMS with Leaflet</em> (<a href="https://leafletjs.com/examples/wms/wms.html" class="uri">https://leafletjs.com/examples/wms/wms.html</a>), where you can see a practical example.<a href="databases.html#fnref87" class="footnote-back">↩︎</a></p></li>
<li id="fn88"><p>PostgreSQL with the PostGIS extension will be referred to as <em>PostGIS</em> from now on, for simplicity.<a href="databases.html#fnref88" class="footnote-back">↩︎</a></p></li>
<li id="fn89"><p>The online supplement includes instructions for installing PostGIS, as part of the custom SQL API setup (Section <a href="databases.html#alternatives-to-carto">9.2.2</a>).<a href="databases.html#fnref89" class="footnote-back">↩︎</a></p></li>
<li id="fn90"><p>The data source of this table is the <em>Endangered Plants of Israel</em> (<a href="https://redlist.parks.org.il/" class="uri">https://redlist.parks.org.il/</a>) website by the Israel Nature and Parks Authority.<a href="databases.html#fnref90" class="footnote-back">↩︎</a></p></li>
<li id="fn91"><p>Instructions to set up a PostGIS database and import the <code>plants</code> table are given in the online supplement, as part of setting up an alternative SQL API (Section <a href="databases.html#alternatives-to-carto">9.2.2</a>).<a href="databases.html#fnref91" class="footnote-back">↩︎</a></p></li>
<li id="fn92"><p>For the full list, refer to the <em>CARTO SQL API documentation</em> (<a href="https://carto.com/developers/sql-api/reference/" class="uri">https://carto.com/developers/sql-api/reference/</a>).<a href="databases.html#fnref92" class="footnote-back">↩︎</a></p></li>
<li id="fn93"><p>The CARTO platform conventionally uses the name <code>the_geom</code> for the geometry column. In principle, the geometry column can be named any other way. For example, in the SQL examples in Section <a href="databases.html#what-is-sql">9.6</a> the geometry column was named <code>geometry</code>, which is another commonly used convention.<a href="databases.html#fnref93" class="footnote-back">↩︎</a></p></li>
<li id="fn94"><p>Note that the GeoJSON response was formatted for convenience. The actual response is returned as an unformatted string, without any spaces and line breaks.<a href="databases.html#fnref94" class="footnote-back">↩︎</a></p></li>
<li id="fn95"><p>For a more detailed description of the CARTO SQL API, see the <em>documentation</em> (<a href="https://carto.com/developers/sql-api/" class="uri">https://carto.com/developers/sql-api/</a>).<a href="databases.html#fnref95" class="footnote-back">↩︎</a></p></li>
</ol>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="symbology-and-interactivity.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="non-spatial-queries-1.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook/js/app.min.js"></script>
<script src="libs/gitbook/js/lunr.js"></script>
<script src="libs/gitbook/js/clipboard.min.js"></script>
<script src="libs/gitbook/js/plugin-search.js"></script>
<script src="libs/gitbook/js/plugin-sharing.js"></script>
<script src="libs/gitbook/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook/js/plugin-bookdown.js"></script>
<script src="libs/gitbook/js/jquery.highlight.js"></script>
<script src="libs/gitbook/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": null,
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": null,
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "section",
"scroll_highlight": true
},
"toc_depth": 2,
"search": false
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "../../mathjax.rstudio.com/2.7.2/MathJaxb198.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>


<!-- Mirrored from 132.72.155.230:3838/js/databases.html by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 10 Jan 2022 06:40:35 GMT -->
</html>
